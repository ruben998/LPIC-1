<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Material LPIC-1</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <style>
            pre{ 
                text-align: left;
                white-space: pre-line;
            }
            pre code {
                background-color: #eee;
                border: 1px solid #999;
                display: block;
                padding-left: 2em;
                padding-bottom: 2em;
            }

            .bloc {
                margin-left: 2em;
            }

            .topic {
                margin-left: 2em;
            }

            .text {
                text-align: justify;
                text-justify: inter-word; 

                margin-left: 2em;
            }

            table {
                font-family: arial, sans-serif;
                border-collapse: collapse;
                width: 100%;
            }

            td, th {
                border: 1px solid #dddddd;
                text-align: left;
                padding: 8px;
            }

            tr:nth-child(even) {
                background-color: #dddddd;
            }

            img {
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
        </style>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="#">Home</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample07" aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarsExample07">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown07" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">LPIC-1</a>
                            <div class="dropdown-menu" aria-labelledby="dropdown07">
                                <a class="dropdown-item" href="#exam-lpic-101">Objectiu 101</a>
                                <a class="dropdown-item" href="#exam-lpic-102">Objectiu 102</a>
                            </div>
                        </li>
                    </ul>
                    <c:url value="/j_spring_security_logout" var="logoutUrl" />
                    <form action="${logoutUrl}" method="post" id="logoutForm">
                        <input type="hidden" name="${_csrf.parameterName}"
                               value="${_csrf.token}" />
                    </form>
                    <a class="navbar-brand" href="javascript:formSubmit()">Logout</a>
                    <form class="form-inline my-2 my-md-0">
                        <input class="form-control" type="text" placeholder="Search" aria-label="Search">
                    </form>
                    <script>
                        function formSubmit() {
                            document.getElementById("logoutForm").submit();
                        }
                    </script>
                </div>
            </div>
        </nav>

        <div class="container">
            <br/>
            <div class="lpic-101">
                <h4 class="exam-lpic-101">Objectiu 101</h4>
                <br/>
                <div class="bloc lpic_101_bloc" style="display:none">
                    <h5 class="title_t101">Topic 101: System Architecture</h5>
                    <div class="topic t101" style="display:none">
                        <br/>
                        <h6 class="title_t101-1">Mòduls del kernel</h6>
                        <div class="text t101-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <p>Gràcies a aquesta comanda podem veure quins mòduls estan sent utilitzats per altres (dependències)</p>
                            <pre>
                                <code>
                                $ lsmod
                                
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>

                            <p><strong>modinfo</strong> permet veure informació relacionada amb un mòdul del kernel, com el nom del mòdul (i la seva ubicació) o les seves dependències.</p>
                            <pre>
                                <code>
                                    # modinfo mac80211
                                    filename:       /lib/modules/4.9.0-6-amd64/kernel/net/mac80211/mac80211.ko
                                    license:        GPL
                                    description:    IEEE 802.11 subsystem
                                    depends:        cfg80211
                                    ...
                                </code>
                            </pre>
                            <p>La opció <strong>-k</strong> ens permet fer consultes dels mòduls d'un kernel diferent al que tenim en execució (ha d'existir a la màquina)</p>
                            <pre>
                                <code>
                                    # sudo modinfo -k 4.8.0-2-amd64 mac80211
                                    filename:       /lib/modules/4.8.0-2-amd64/kernel/net/mac80211/mac80211.ko
                                    license:        GPL
                                    description:    IEEE 802.11 subsystem
                                    depends:        cfg80211
                                    ...
                                </code>
                            </pre>
                            <p><strong>insmod</strong> permet carregar mòduls al kernel del sistema. Es carrega només el mòdul especificat, el que significa que si aquest mòdul té dependències hauràn d'estar resoltes amb anterioritat.</p>
                            <p><strong>modprobe</strong>  també ens permet poder carregar mòduls al sistema. La diferència respecte a insmod és que si el mòdul a carregar depèn d'altres mòduls, modprobe carregarà també aquest mòduls necessaris. Algunes opcions que val la pena comentar sobre modprobe són:</p>
                            <ul>
                                <li><strong>-b: </strong>aplica les directives "blacklist" dels arxius de configuració</li>
                                <li><strong>-r: </strong>elimina un mòdul del kernel (el desactiva). Si aquest mòdul té dependències que no utilitza ningú més també seran desmuntades</li>
                                <li><strong>-s: </strong>envia els missatges d'error als logs del sistema</li>
                                <li><strong>-show-depends: </strong>mostra totes les dependències (també les "heretades") d'un mòdul</li>
                            </ul>
                            <p><strong>rmmod</strong> permet desactivar un mòdul concret del kernel del sistema.</p>
                            <p><strong>udev</strong> és un dimoni encarregat de controlar els dispositius, i els gestiona per tal d'integrar-los al sistema de manera transparent per l'usuari. udev detecta de forma automàtica els dispositius que es connecten al sistema, i els afegeix o treu al kernel de forma dinàmica, en funció de si el sistema els utilitza o no. udev recull informació del kernel consultant /sys (connector físic, nom donat pel kernel, ?) i també obté informació del propi dispositiu (serial, fabricant, ?). Amb tota aquesta informació udev consulta un conjunt de regles que es troben a /etc/udev/rules.d que determinen les accions a realitzar amb el disposditiu.</p>
                            <p><strong>dbus</strong> és un bus de comunicacions entre processos (IPC) que permet a les aplicacions poder comunicar-se entre sí. Utilitza un nom per a cada objecte, pel que ens evita el problema de treballar amb posicions de memòria relatives que no són exportables entre aplicacions. Dbus és la eina que utilitzen dimonis com HAL per tal de poder comunicar als processos entre ells.</p>    

                            <br/>
                            <h5>Altres utilitats</h5>

                            <p><strong>lshw</strong> permet desactivar un mòdul concret del kernel del sistema.</p>
                            <ul>
                                <li><strong>-html: </strong>les dades surten en format HTML</li>
                                <li><strong>-xml: </strong>les dades surten en format XML</li>
                                <li><strong>-sohrt: </strong>descripció breu del HW amb el nom, la classe i el dispostiu</li>
                            </ul>
                            <p><strong>lspci</strong> permet veure els dispositius connectats als busos PCI del sistema. ALgunes de les opcions més interessants són:</p>
                            <ul>
                                <li><strong>-d: </strong>mostra només els dispositius del fabricant indicat (en hexadecimal)</li>
                                <li><strong>-k: </strong>mostra els drivers que el kernel està utilitzant per cada dispositiu identificat</li>
                                <li><strong>-s: </strong>mostra només el bus indicat</li>
                                <li><strong>-t: </strong>veure els dispositius PCI connectats amb forma d'arbre</li>
                                <li><strong>-v: </strong>mostar informació detallada dels busos i dispositius</li>
                            </ul>
                            <p><strong>lsusb</strong> permet veure informació relacioanda amb els dispositius USB que hi ha connectats als busos d'aquest protocol, així com informació detallada de la seva configuració. Per poder veure diferents visualitzacions tenim les següents opcions:</p>
                            <ul>
                                <li><strong>-d: </strong>mostra només els dispositius del fabricant indicat (en hexadecimal)</li>
                                <li><strong>-s: </strong>mostra només el bus indicat</li>
                                <li><strong>-t: </strong>veure els dispositius USB connectats amb forma d'arbre</li>
                                <li><strong>-v: </strong>mostar informació detallada dels busos i dispositius</li>
                                <li><strong>-D: </strong>mostra informació detallada del dispositiu indicat</li>
                            </ul>
                        </div>
                        <br/>
                        <h6 class="title_t101-2">Particionat</h6>
                        <div class="text t101-2" style="display:none">
                            <p>La tècnica de particionar un disc dur permet dividir l?espai disponible d?aquest en diferents seccions, a les que es pot accedir de forma independent. Es pot crear una única partició amb tot l?espai disponible del disc o es poden crear vàries particions i distribuir la informació que es vol guardar en elles, o dedicar cada partició a una funció: sistemes duals amb més d?un sistema operatiu, particions de swap, ? Els sistemes operatius, quan s?inicien, necessiten conèixer l?estructura de l?espai de disc i les seves particions. Això és possible gràcies als esquemes de particionat de disc com MBR i GPT.</p>
                            <br/>
                            <h5>Esquemes de particionat de disc</h5>
                            <p><strong>MBR</strong> (Master Boot Record) és l?esquema de particionat més estès en l?actualitat tant en equips d?usuari com en servidors. Resideix en el primer sector físic del disc dur (512 Bytes) on emmagatzema el codi d?arrencada del MBR, la taula de particions del disc i les signatures de disc i arrencada. Totes aquestes dades es distribueixen de la següent manera:</p>
                            <table>
                                <tr>
                                    <td><strong>Ubicació en el disc dur</strong></td>
                                    <td><strong>Informació continguda</strong></td>
                                </tr>
                                <tr>
                                    <td>0-440 Bytes</td>
                                    <td>Codi d?arrencada de MBR</td>
                                </tr>
                                <tr>
                                    <td>441-446 Bytes</td>
                                    <td>Signatura del disc MBR</td>
                                </tr>
                                <tr>
                                    <td>447-510 Bytes</td>
                                    <td>Informació de la taula de particions (primàries i esteses)</td>
                                </tr>
                                <tr>
                                    <td>511-512 Bytes</td>
                                    <td>Signatura d?arrencada de MBR</td>
                                </tr>
                            </table>
                            <br/>
                            <p>L?esquema MBR treballa amb el sistema de particions x86, on només es poden crear 4 particions primàries. D?aquestes 4 particions una d?elles pot ser estesa, cosa que ens permet poder crear en el seu interior més particions. Aquestes, però, s?on particions lògiques i les seves metadades estan enllaçades entre sí, pel que la pèrdua d?alguna d?elles pot implicar errors en les altres. A més, les particions lògiques no poder ser marcades com particions d?arrencada, una característica que alguns sistemes com DOS necessiten per poder-se iniciar.</p>
                            <p><strong>NOTA: </strong>Les particions primàries dels sistemes amb MBR es numeren del 1 al 4, i les lògiques del 5  
                                en endavant. Aquesta numeració està reservada, pel que podem tronar un sistema amb 2 particions  
                                primàries i 2 lògiques que tinguin els números 1, 2, 5 i 6 assignats)  </p>
                            <p>Els sistemes MBR utilitzen 32 bits per l?adreçament LBA dels sectors del disc. Això significa que només pot gestionar volums de dades de 2TB com a màxim. Aquesta limitació és el que fa que MBR hagi deixat de ser la primera opció en nous sistemes on es disposen de volums de dades molt més grans.</p>
                            <p>Un altre aspecte important dels esquemes MBR és la fragilitat a la que estan exposades les seves dades. Es troben en el primer sector del disc, pel que qualsevol fallida del disc o acció incorrecta humana provocarien greus problemes ja que deixarien inaccessible les dades del dispositiu (que no es perden). És per això que resulta molt important disposar d?una còpia de seguretat de les dades del MBR, per poder restaurar-les en cas de pèrdua o fallida del MBR. Aquesta còpia es pot fer amb la comanda dd, doncs sabem que es tracta dels primers 512 Bytes del disc</p>
                            <pre>
                                <code>
                                $ dd if=/dev/sdX of=/boot/mbr.bakup bs=512 count=1  
                                </code>
                            </pre>
                            <br/>
                            <p><strong>GPT</strong> (GUID Partition Table) és l?esquema de particions del nou estàndard de Intel pensat per treballar en sistemes amb firmware EFI. Utilitza identificadors únics (GUID) per definir les particions d?un disc, pel que no existeixen particions primàries o lògiques. Tampoc hi ha cap limitació (en teoria) del número de particions que permet GPT gestionar.</p>
                            <p>GPT utilitza 64 bits d?adreçament LBA, pel que pot arribar a gestionar volums de 9ZB (9 bilions de TeraBytes). És un dels motius pels quals GPT s?està convertint en l?estàndard a utilitzar per nous sistemes. A banda d?aquesta funcionalitat.</p>
                            <p>GPT guarda una còpia de la taula de particions en els últims sectors del disc, de manera que tenim la informació guardada en 2 ubicacions del disc, cosa que el converteix en un esquema de particions més segur que MBR. Les dades que conté l?esquema GPT són els que s?indiquen a continuació:</p>
                            <table>
                                <tr>
                                    <td><strong>Ubicació en el disc dur</strong></td>
                                    <td><strong>Informació continguda</strong></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>1-512 Bytes</td>
                                    <td>Protective MBR</td>
                                    <td>MBR amb una única partició (0xEE) en els 64 Bytes de la taula de particions</td>
                                </tr>
                                <tr>
                                    <td>513-1023 Bytes</td>
                                    <td>Capçalera GPT principal</td>
                                    <td>
                                        GUID del disc<br/>
                                        Ubicació de la taula de particions<br/>
                                        Nombre d?entrades de la taula de particions<br/>
                                        Sumes de comprovació CRC de la capçalera i la taula<br/>
                                        Ubicació de la taula de particions de backup<br/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Següents 16KB</td>
                                    <td>Taula GPT principal</td>
                                    <td>128 entrades de partició (128 Bytes cada una)</td>
                                </tr>
                                <tr>
                                    <td>16KB previs a l?últim sector</td>
                                    <td>Taula GPT secundària</td>
                                    <td>Idèntica a la taula GPT principal</td>
                                </tr>
                                <tr>
                                    <td>Últim sector del disc</td>
                                    <td>Capçalera GPT secundària</td>
                                    <td>Ídem a capçalera GPT principal</td>
                                </tr>
                            </table>
                            <br/>
                            <p><strong>Geometria del disc</strong></p>
                            <img src="resources/img/disc_dur.jpg" alt="Geometria del disc" />
                            <br/>
                            <p><strong>Comandes de particionat de disc</strong></p>
                            <p><strong>fdisk </strong>(fixed disk) és una de les eines que ens permet manipular l?espai de disc d?un dispositiu d?emmagatzemament. La opció -l permet veure informació del disc seleccionat, i la opció -u permet definir les unitats a mostrar:</p>
                            <pre>
                                <code>
                                    # fdisk -l -u=cylinders /dev/sda  
  
                                    Geometría: 255 cabezas, 63 sectores/pista, 77825 cilindros  
                                    Disco /dev/sda: 596,2 GiB, 640135028736 bytes, 1250263728 sectores  
                                    Unidades: sectores de 1 * 512 = 512 bytes  
                                    Tamaño de sector (lógico/físico): 512 bytes / 512 bytes  
                                    Tamaño de E/S (mínimo/óptimo): 512 bytes / 512 bytes  
                                    Tipo de etiqueta de disco: dos  
                                    Identificador del disco: 0xe6ff1ce6  

                                    Disposit.  Inicio Comienzo     Final  Sectores Tamaño Id Tipo  
                                    /dev/sda1             2048   8007679   8005632   3,8G 82 Linux swap / Solaris  
                                    /dev/sda2  *       8007680  78319615  70311936  33,5G 83 Linux  
                                    /dev/sda3         78321662 468944895 390623234 186,3G  5 Extendida  
                                    /dev/sda5         78321664 468944895 390623232 186,3G 83 Linux  
                                </code>
                            </pre>
                            <p>fdisk utilitza un menú d?opcions interactiu a través el qual podem gestionar les particions del dispositiu seleccionat:</p>
                            <pre>
                                <code>
                                    # fdisk /dev/sda  
  
                                    Bienvenido a fdisk (util-linux 2.29.2).  
                                    Los cambios solo permanecerán en la memoria, hasta que decida escribirlos.  
                                    Tenga cuidado antes de utilizar la orden de escritura.  

                                    Orden (m para obtener ayuda): m  

                                      Ayuda:  

                                      DOS (MBR)  
                                       a   conmuta el indicador de iniciable  
                                       b   modifica la etiqueta de disco BSD anidada  
                                       c   conmuta el indicador de compatibilidad con DOS  

                                      General  
                                       d   borra una partición  
                                       F   lista el espacio libre no particionado  
                                       l   lista los tipos de particiones conocidos  
                                       n   añade una nueva partición  
                                       p   muestra la tabla de particiones  
                                       t   cambia el tipo de una partición  
                                       v   verifica la tabla de particiones  
                                       i   imprime información sobre una partición  

                                      Miscelánea  
                                       m   muestra este menú  
                                       u   cambia las unidades de visualización/entrada  
                                       x   funciones adicionales (sólo para usuarios avanzados)  

                                      Script  
                                       I   carga la estructura del disco de un fichero de script sfdisk  
                                       O   vuelca la estructura del disco a un fichero de script sfdisk  

                                      Guardar y Salir  
                                       w   escribe la tabla en el disco y sale  
                                       q   sale sin guardar los cambios  

                                      Crea una nueva etiqueta  
                                       g   crea una nueva tabla de particiones GPT vacía  
                                       G   crea una nueva tabla de particiones SGI (IRIX) vacía  
                                       o   crea una nueva tabla de particiones DOS vacía  
                                       s   crea una nueva tabla de particiones Sun vacía 
                                </code>
                            </pre>

                            <p><strong>sfdisk </strong> permet manipular i gestionar l?espai disponible en un sistema d?emmagatzemament. A diferència de fdsik o gdisk, sfdisk no és interactiu, pel que s?acostuma a utilitzar per fer còpies o restauracions de l?esquema de la taula de particions del disc. Si volem veure el llistat de particions d?un disc dur podem utilitzar la opció -l:</p>
                            <pre>
                                <code>
                                    # sfdisk -l /dev/sdc  
                                    Disk /dev/sdc: 60 GiB, 64424509440 bytes, 125829120 sectors  
                                    Units: sectors of 1 * 512 = 512 bytes  
                                    Sector size (logical/physical): 512 bytes / 512 bytes  
                                    I/O size (minimum/optimal): 512 bytes / 512 bytes  
                                    Disklabel type: gpt  
                                    Disk identifier: 5C9F889B-787B-4746-982C-A3612560D853  

                                    Device     Start      End  Sectors Size Type  
                                    /dev/sdc1   2048 31459327 31457280  15G Linux filesystem    
                                </code>
                            </pre>
                            <p>També podem veure l?espai disponible sense particionar amb la comanda -F:</p>
                            <pre>
                                <code>
                                    # sfdisk -F /dev/sdc  
                                    Unpartitioned space /dev/sdc: 45 GiB, 48317316608 bytes, 94369759 sectors  
                                    Units: sectors of 1 * 512 = 512 bytes  
                                    Sector size (logical/physical): 512 bytes / 512 bytes  

                                       Start       End  Sectors Size  
                                    31459328 125829086 94369759  45G  
                                </code>
                            </pre>
                            <p>Per poder crear un fitxer amb la informació de les particions i estructura del disc utilitzem la opció -d:</p>
                            <pre>
                                <code>
                                    # sfdisk -d /dev/sda | tee sfdisk_backup.txt  
                                    label: gpt  
                                    label-id: 5C9F889B-787B-4746-982C-A3612560D853  
                                    device: /dev/sdc  
                                    unit: sectors  
                                    first-lba: 34  
                                    last-lba: 125829086  

                                    /dev/sdc1 : start=2048, size=31457280, type=0FC63DAF-8483-4772-8E79-3D69D8477DE4, uuid=09C51487-80E8-45EC-BD53-9683CD0FB011, name="Linux filesystem"  
                                </code>
                            </pre>
                            <br/>
                            <pre>
                                <code>
                                    vagrant@lpic1:~$ ls  
                                    backup_particions.txt  
                                </code>
                            </pre>
                            <p>Per poder recuperar la taula de particions d?un disc passem el fitxer de backup com a dades d?entrada a sfdisk:</p>
                            <pre>
                                <code>
                                    # sfdisk /dev/sdc < backup_particions.txt  
                                </code>
                            </pre>
                            <p><strong>gdisk </strong>(GPT fdisk) és una de les eines que ens permet manipular l?espai de disc d?un dispositiu d?emmagatzemament amb un esquema de particionat GPT. La opció -l permet veure informació del disc seleccionat:</p>
                            <pre>
                                <code>
                                    # gdisk -l /dev/sdc  
                                    GPT fdisk (gdisk) version 1.0.1  

                                    Partition table scan:  
                                      MBR: protective  
                                      BSD: not present  
                                      APM: not present  
                                      GPT: present  

                                    Found valid GPT with protective MBR; using GPT.  
                                    Disk /dev/sdc: 125829120 sectors, 60.0 GiB  
                                    Logical sector size: 512 bytes  
                                    Disk identifier (GUID): 5C9F889B-787B-4746-982C-A3612560D853  
                                    Partition table holds up to 128 entries  
                                    First usable sector is 34, last usable sector is 125829086  
                                    Partitions will be aligned on 2048-sector boundaries  
                                    Total free space is 94371773 sectors (45.0 GiB)  

                                    Number  Start (sector)    End (sector)  Size       Code  Name  
                                       1            2048        31459327   15.0 GiB    8300  Linux filesystem  
                                </code>
                            </pre>
                            <p>gdisk utilitza un menú d?opcions interactiu a través el qual podem gestionar les particions del dispositiu seleccionat:</p>
                            <pre>
                                <code>
                                    # gdisk /dev/sdc  
                                    GPT fdisk (gdisk) version 1.0.1  

                                    Partition table scan:  
                                      MBR: protective  
                                      BSD: not present  
                                      APM: not present  
                                      GPT: present  

                                    Creating new GPT entries.  

                                    Command (? for help): ?  
                                     b	back up GPT data to a file  
                                     c	change a partition's name  
                                     d	delete a partition  
                                     i	show detailed information on a partition  
                                     l	list known partition types  
                                     n	add a new partition  
                                     o	create a new empty GUID partition table (GPT)  
                                     p	print the partition table  
                                     q	quit without saving changes  
                                     r	recovery and transformation options (experts only)  
                                     s	sort partitions  
                                     t	change a partition's type code  
                                     v	verify disk  
                                     w	write table to disk and exit  
                                     x	extra functionality (experts only)  
                                     ?	print this menú  
                                </code>
                            </pre>
                            <p><strong>parted </strong>(GNU Parted) ens permet manipular les particions d'un dispositiu d'emmagatzemament. Funciona de manera molt similar a fdisk o gdisk, amb una shell interactiva amb les seves pròpies opcions.</p>
                            <pre>
                                <code>
                                    # parted /dev/sdc  
                                    GNU Parted 3.2  
                                    Using /dev/sdc  
                                    Welcome to GNU Parted! Type 'help' to view a list of commands.  
                                    (parted) help                                                               
                                      align-check TYPE N                          check partition N for TYPE(min|opt) alignment  
                                      help [COMMAND]                              print general help, or help on COMMAND  
                                      mklabel,mktable LABEL-TYPE                  create a new disklabel (partition table)  
                                      mkpart PART-TYPE [FS-TYPE] START END        make a partition  
                                      name NUMBER NAME                            name partition NUMBER as NAME  
                                      print [devices|free|list,all|NUMBER]        display the partition table, available devices, free space, all found  
                                            partitions, or a particular partition  
                                      quit                                        exit program  
                                      rescue START END                            rescue a lost partition near START and END  
                                      resizepart NUMBER END                       resize partition NUMBER  
                                      rm NUMBER                                   delete partition NUMBER  
                                      select DEVICE                               choose the device to edit  
                                      disk_set FLAG STATE                         change the FLAG on selected device  
                                      disk_toggle [FLAG]                          toggle the state of FLAG on selected device  
                                      set NUMBER FLAG STATE                       change the FLAG on partition NUMBER  
                                      toggle [NUMBER [FLAG]]                      toggle the state of FLAG on partition NUMBER  
                                      unit UNIT                                   set the default unit to UNIT  
                                      version                                     display the version number and copyright information of GNU Parted  
                                </code>
                            </pre>
                            <p>A diferència de gdisk, parted guarda en disc les operacions realitzades a l'instant, pel que els canvis indicat no poden ser revertits (en gdisk totes les operacions ordenades queden en espera de confirmació a ser executades - opció w -).</p>
                        </div>
                        <br/>
                        <h6 class="title_t101-3">SysV vs systemd</h6>
                        <div class="text t101-3" style="display:none">
                            <p><strong>SysV </strong>és un sistema que es basa en el concepte de nivells d'execució per determinar els serveis i processos que s'executen en cada un d'ells. En total SysV gestiona 7 nivells d'execució diferents, que van des del 0 fins al 6 i que tenen les següents funcions:</p>
                            <ul>
                                <li><strong>0: </strong>és un estat transitori. S'utilitza per passar d'un estat iniciat a un de tancat. És a dir, per tancar el sistema.</li>
                                <li><strong>1: </strong>single. És l'estat monousuari o de manteniment, en el qual només pot haver una sessió oberta i s'executen només els serveis mínims indispensables per l'inici del sistema.</li>
                                <li><strong>2-5: </strong>user-defined. Són els modes d'execució que cada distribució decideix com utilitzar.</li>
                                <ul>
                                    <li><strong>2: </strong>En sistemes Debian s'utilitza aquest nivell com multiusuari amb sessió gràfica</li>
                                    <li><strong>3: </strong>En sistemes RedHat s'utilitza aquest nivell com multiusuari sense sessió gràfica</li>
                                    <li><strong>5: </strong>En sistemes RedHat s'utilitza aquest nivell com multiusuari amb sessió gràfica</li>
                                </ul>
                                <li><strong>6: </strong>estat transitori per passar de l'estat actual a l'estat per defecte. És a dir, reiniciar el sistema.</li>
                            </ul>
                            <p>Per poder identificar l'ús dels diferents serveis en els diferents modes d'execució podem utilitzar l'arxiu /etc/inittab o la comanda chkconfig.</p>
                            <p><strong>/etc/inittab</strong> és un fitxer que conté informació sobre els processos a executar en cada un dels nivells d'execució i de quina manera s'ha de fer aquesta execució. Per entendre el funcionament d'aquest fitxer és important conèixer la seva estructura:</p>
                            <pre>
                                <code>
                                    # cat /etc/inittab  
                                    # Format:  
                                    #   &ltid&gt:&ltrunlevels&gt:&ltaction&gt:&ltprocess&gt  
                                    </code>
                            </pre>
                            <p>Els camps del fitxer inittab són els que es veuen i s'utilitzen per:</p>
                            <ul>
                                <li><strong>&ltid&gt</strong> de 1 a 4 caràcters que identifiquen el tipus d'entrada</li>
                                <li><strong>&ltrunlevels&gt</strong> nivells d'execució on s'aplica l'acció indicada.</li>
                                <li><strong>&ltaction&gt</strong> descriu l'acció que es durà a terme</li>
                                <li><strong>&ltprocess&gt</strong> procés a executar.</li>
                            </ul>
                            <p>Algunes de les diferents accions que es poden definir en inittab són:</p>
                            <ul>
                                <li><strong>boot:</strong> el procés s'executa durant l'inici del sistema. El camp runlevel s'ignora</li>
                                <li><strong>initdefault:</strong> indica quin és el nivell d'execució que s'executa després del procés d'arrencada.</li>
                                <li><strong>once:</strong> el procés s'executa només una vegada quan s'accedeix al runlevel indicat</li>
                                <li><strong>respawn:</strong> el procés es torna a llençar cada cop que es finalitzi</li>
                                <li><strong>sysinit:</strong> el procés s'executa durant l'inici del sistema abans de les accions boot. El camp runlevel s'ignora</li>
                                <li><strong>wait:</strong> el procés s'executa només una vegada quan s'accedeix al runlevel indicat, i init espera a que acabi per continuar</li>
                            </ul>
                            <p>Si ens fixem una mica en l'estructura de inittab podem veure per exemple algunes seccions interesants a comentar:</p>
                            <pre>
                                <code>
                                    # The default runlevel.  
                                    id:2:initdefault:  
                                </code>
                            </pre>
                            <p>Indica quin és el runlevel per defecte d'inici del sistema (el 2 en sistemes Debian)</p>
                            <pre>
                                <code>
                                    # Boot-time system configuration/initialization script.  
                                    # This is run first except when booting in emergency (-b) mode.  
                                    si::sysinit:/etc/init.d/rcS
                                </code>
                            </pre>
                            <p>Indica que els primer procés a executar (sobre qualsevol nivell) és /etc/init.d/rcS</p>
                            <pre>
                                <code>
                                    $ cat /etc/init.d/rcS  
                                    #! /bin/sh  
                                    # rcS  
                                    # Call all S??* scripts in /etc/rcS.d/ in numerical/alphabetical order  
                                    exec /etc/init.d/rc S  
                                </code>
                            </pre>
                            <p>És a dir, executa tots els processos que comencen per S dins del directori /etc/rcS.d/ seguint el ordre numèric que hi ha a continuació de la S.</p>
                            <pre>
                                <code>
                                    l0:0:wait:/etc/init.d/rc 0  
                                    l1:1:wait:/etc/init.d/rc 1  
                                    l2:2:wait:/etc/init.d/rc 2  
                                    l3:3:wait:/etc/init.d/rc 3  
                                    l4:4:wait:/etc/init.d/rc 4  
                                    l5:5:wait:/etc/init.d/rc 5  
                                    l6:6:wait:/etc/init.d/rc 6  
                                </code>
                            </pre>
                            <p>En cada runlevel s'executaran, en ordre (wait), tots els scripts del directori rcX.d corresponent.</p>
                            <pre>
                                <code>
                                    # /sbin/getty invocations for the runlevels.  
                                    # The "id" field MUST be the same as the last  
                                    # characters of the device (after "tty").  
                                    # Note that on most Debian systems tty7 is used by the X Window System,  
                                    # so if you want to add more getty's go ahead but skip tty7 if you run X.  
                                    1:2345:respawn:/sbin/getty 38400 tty1  
                                    2:23:respawn:/sbin/getty 38400 tty2  
                                    3:23:respawn:/sbin/getty 38400 tty3  
                                    4:23:respawn:/sbin/getty 38400 tty4   
                                    5:23:respawn:/sbin/getty 38400 tty5  
                                    6:23:respawn:/sbin/getty 38400 tty6  
                                </code>
                            </pre>
                            <p>Indica que cal executar 6 ttys (i en quins nivells) i que cal tornar-los a executar cada vegada que es finalitzin.</p>

                            <p><strong>chkconfig</strong> permet veure i manipular informació sobre l'activació i desactivació dels processos en cada un dels diferents nivells d'execució del sistema. Per poder consultar l'estat dels processos en cada un dels runlevels tenim la opció -list:</p>

                        </div>
                        <br/>
                        <h6 class="title_t101-4">journactl</h6>
                        <div class="text t101-4" style="display:none">

                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t102">Topic 102: Linux Installation and Package Management</h5>
                    <div class="topic t102" style="display:none">
                        <br/>
                        <h6 class="title_t102-1">dpkg vs rpm</h6>
                        <div class="text t102-1" style="display:none">
                            <h5>Gestió de paquets</h5>
                            <p>Per tal que un programa pugui ser instal·lat necessitem els seus paquets d'instal·lació. Aquests paquets els podem cercar i descarregar per a fer la seva instal·lació manual o podem fer servir eines (els gestors de paquets) que ens permeten obtenir els arxius encessaris per a la correcta instal·lació i configuració del programari desitjat. Aquests gestors de paquets consulten unes fonts que el sistema té configurades per tal de poder conèixer la ubicació i disponibilitat dels paquets necessaris per instal·lar. Existeixen diferents eines per realitzar la gestió de paquets en sistemes GNU/Linux, en funció de la família de la distribució amb la que es treballa.</p>
                            <h5>Paquets</h5>
                            <p>Un paquet és un conjunt de codis i arxius amb les quals es pot realitzar una tasca concreta per a gestionar un programa determinat. Entre els diferents tipus de paquets hi ha:</p>
                            <ul>
                                <li><strong>binari: </strong>paquets que contenen aplicacions binaries sense el seu codi font. El paquet inclou els fitxers executables</li>
                                <li><strong>font: </strong>paquets que inclouen codi font. Normalment cada paquet font té un paquet equivalent binari</li>
                                <li><strong>dependència: </strong>paquet previ necessari per a poder instal·lar el paquet desitjat</li>
                                <li><strong>virtual: </strong>(o dummy) paquet buit de continguts amb un nom genèric que proveïx altres paquets mitjançant dependències</li>
                                <li><strong>tasca: </strong>agrupacions de paquets que instal·lats de forma conjunta proveeixin una funcionalitat comuna</li>
                            </ul>

                            <p><strong>dpkg</strong> és una eina que permet gestionar paquets en sistemes debian i, els paquets que poden ser instal·lats en sistemes Debian-like són els que tenen la extensió .deb La comanda dpkg ens permet fer gestions dels paquets amb algunes opcions que poden resultar interessants:</p>
                            <ul>
                                <li><strong>-i: </strong>instal·la el paquet indicat</li>
                                <li><strong>-r: </strong>elimina el paquet indicat</li>
                                <li><strong>-l: </strong>llista els paquets que compleixen amb un determinat patró</li>
                                <li><strong>-s: </strong>mostra l'estat actual d'un paquet</li>
                                <li><strong>-L: </strong>mostra la llista de paquets instal·lats</li>
                                <li><strong>-S: </strong>busca un fitxer concret dins dels paquets instal·lats</li>
                                <li><strong>-p: </strong>mostra informació detallada sobre un paquet instal·lat</li>
                                <li><strong>-I: </strong>mostra informació detallada sobre un paquet desinstal·lat</li>
                                <li><strong>-P: </strong>elimina un paquet indicant incloent aexius de configuració</li>
                            </ul>
                            <p>Altres opcions de la comanda dpkg</p>
                            <ul>
                                <li><strong>-configure: </strong>configura un paquet instal·lat però que no es va configurar en la seva instal·lació</li>
                                <li><strong>-ignore-depends: </strong>ignora les dependències</li>
                                <li><strong>-no-act: </strong>fa les comprovacions de dependències sobre un paquet però no l'instal·la o elimina</li>
                                <li><strong>-reconfigure: </strong>configura un paquet ja instal·lat</li>
                                <li><strong>-root: </strong>indica un altre arrel on fer les operacions sol·licitades</li>
                            </ul>
                            <h5>rpm</h5>
                            <p><strong>rpm</strong> (RedHat Package Management) és la que ens permet gestionar els paquets d'instal·lació (.rpm) en distribucions RedHat/CentOS. Algunes de les seves opcions més habituals són les que es descriuen en la següent taula:</p>
                            <table>
                                <tbody>
                                    <tr>
                                        <th rowspan="3"><strong>Opcions d'instal·lació</strong></th>
                                        <td><strong>-i</strong></td>
                                        <td>instal·la un paquet</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-U</strong></td>
                                        <td>instal·la o actualitza un paquet</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-F</strong></td>
                                        <td>actualitza un paquet si ja es troba instal·lat en una versíó anterior</td>
                                    </tr>
                                    <tr>
                                        <th rowspan="8"><strong>Opcions de consulta</strong></th>
                                        <th rowspan="8"><strong>-q</strong></th>
                                        <td>permet fer consultes sobre un paquet</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-a:</strong> pregunta per tots els paquets instal·lats</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-f:</strong> pregunta pel paquet que proporciona un fitxer donat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-i:</strong> informació sobre el paquet</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-l:</strong> fitxers que conté el paquet</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-p:</strong> permet consultar informació d'un paquet rpm</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-R:</strong> mostra les dependències d'un paquet</td>
                                    </tr>
                                    <tr>
                                        <td><strong>-s:</strong> mostra l'estat dels fitxers del paquet</td>
                                    </tr>
                                    <tr>
                                        <th rowspan="9"><strong>Opcions de verficació</strong></th>
                                        <td rowspan="9"><strong>-V</strong></td>
                                        <td>comprova la integritat d'un paquet instal·lat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>S:</strong> mida de fitxer diferent</td>
                                    </tr>
                                    <tr>
                                        <td><strong>M:</strong> el mode del fitxer ha canviat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>5:</strong> error en la comprovació MD5</td>
                                    </tr>
                                    <tr>
                                        <td><strong>D:</strong> el dispositiu ha canviat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>L:</strong> l'enllaç simbòlic ha canviat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>U:</strong> el propietari ha canviat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>G:</strong> el grup ha canviat</td>
                                    </tr>
                                    <tr>
                                        <td><strong>T:</strong> la data de modificació ha canviat</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <br/>
                        <h6 class="title_t102-2">APT vs YUM</h6>
                        <div class="text t102-2" style="display:none">
                            <p><strong>APT </strong>(Advanced Packaging Tool) és la eina utilitzada per sistemes Debian-like per fer la gestió de paquets a través de les fonts de programari (repositoris). APT simplifica molt aquesta tasca, doncs automatitza el procés d'obtenció, instal·lació i configuració de programari, així com altres gestions de manteniment del sistema relacionades amb el programari. APT no és un programa en sí mateix. Es tracta d'un conjunt de funcions escrites en C utilitzades per diverses comandes quan realitzen gestió de programari. De fet, APT és un front-end de dpkg, que és la comanda que manipula realment els paquets. Entre altres, una de les grans diferències d'APT sobre dpkg és que permet instal·lar les dependències d'un paquet de manera automàtica. APT utilitza una base de dades local on guarda informació de tots els paquest disponibles en els repositoris configurats. Aquesta base de dades s'el·labora conusltant als repositoris cada cert temps (revisar cron). En base a aquesta informació i als arxius disponibles d'altres instal·lacions anteriors (guardats a /var/cache/apt/archives/) APT decideix quines són les operacions a realitzar i les mostra per pantalla per tal que l'usuari decideixi si les vol fer efectives o no. Les diferents opcions de la comanda APT són:</p>
                            <table>
                                <tr>
                                    <td>autoclean</td>
                                    <td>elimina els arxius .deb de /var/cache/apt/archives que són de versions anteriors a la instal·lada</td>
                                </tr>
                                <tr>
                                    <td>autoremove</td>
                                    <td>desinstal·la tots els paquets que ja no són requerits per cap altre (dependències que ja no utlitza cap programa</td>
                                </tr>
                                <tr>
                                    <td>clean</td>
                                    <td>elimina tots els arxius .deb de /var/cache/apt/archives</td>
                                </tr>
                                <tr>
                                    <td>depends</td>
                                    <td>mostra quines són les dependències d'un paquet</td>
                                </tr>
                                <tr>
                                    <td>dist-upgrade</td>
                                    <td>una actualització de la versió de sistema operatiu</td>
                                </tr>
                                <tr>
                                    <td>download</td>
                                    <td>descarrega l'arxiu .deb del paquet indicat</td>
                                </tr>
                                <tr>
                                    <td>install</td>
                                    <td>instal·la un paquet i les seves dependències</td>
                                </tr>
                                <tr>
                                    <td>list</td>
                                    <td>genera una llista dels paquets indicats i la versió de paquet disponible</td>
                                </tr>
                                <tr>
                                    <td>moo</td>
                                    <td>ou de pascua</td>
                                </tr>
                                <tr>
                                    <td>purge</td>
                                    <td>desinstal·la un paquet eliminant els arxius de configuració</td>
                                </tr>
                                <tr>
                                    <td>remove</td>
                                    <td>desinstal·la un paquet mantenint els arxius de configuració</td>
                                </tr>
                                <tr>
                                    <td>search</td>
                                    <td>consulta la base de dades de paquets per veure si el paquet té algun candidat d'instal·lació</td>
                                </tr>
                                <tr>
                                    <td>show</td>
                                    <td>mostra informació sobre un paquet</td>
                                </tr>
                                <tr>
                                    <td>update</td>
                                    <td>actualitza la base de dades de paquets disponibles</td>
                                </tr>
                                <tr>
                                    <td>upgrade</td>
                                    <td>actualitza a la seva última versió tots els paquets instal·lats del sistema</td>
                                </tr>
                            </table>
                            <br/>
                            <p><strong>apt-cache</strong> ens permet consultar la llista de paquets disponibles per a instal·lar o desinstal·lar.</p>
                            <ul>
                                <li><strong>-depends: </strong>mostra les dependències d'un paquet</li>
                                <li><strong>-search: </strong>busca dins de la caché paquets que coincideixin amb un patró determinat</li>
                                <li><strong>-show: </strong>mostra informació sobre un paquet determinat</li>
                                <li><strong>-unmet: </strong>mostra les dependències que el sistema té</li>
                            </ul>
                            <br/>
                            <p><strong>YUM </strong>(Yellow Dog Updater) és la eina que permet gestionar els paquets en sistemes basats en RPM. Seria l'equivalent a APT en sistemes Debian-like. Per poder fer servir YUM tenim, al igual que amb APT, una sèrie d'opcions concretes que desenvolupen accions similars:</p>
                            <table>
                                <tr>
                                    <td>clean</td>
                                    <td>elimina els paquets guardats a /var/cache/yum</td>
                                </tr>
                                <tr>
                                    <td>grouplist</td>
                                    <td>mostar els grups de paquets disponibles en els repositoris</td>
                                </tr>
                                <tr>
                                    <td>list</td>
                                    <td>mostra una llista de paquets que compleixen amb un patró (installed, available, ?)</td>
                                </tr>
                                <tr>
                                    <td>install</td>
                                    <td>instal·la el paquet indicat</td>
                                </tr>
                                <tr>
                                    <td>provides</td>
                                    <td>permet trobar quin paquet conté un arxiu concret</td>
                                </tr>
                                <tr>
                                    <td>remove</td>
                                    <td>desinstal·la el paquet indicat</td>
                                </tr>
                                <tr>
                                    <td>repolist</td>
                                    <td>mostra una llista dels repositoris configurats</td>
                                </tr>
                                <tr>
                                    <td>requires</td>
                                    <td>mostra les dependències</td>
                                </tr>
                                <tr>
                                    <td>search</td>
                                    <td>permet buscar informació en els paquets instal·lats</td>
                                </tr>
                                <tr>
                                    <td>update</td>
                                    <td>actualitza els paquets indicats</td>
                                </tr>
                            </table>
                        </div>
                        <br/>
                        <h6 class="title_t102-3">Repositoris</h6>
                        <div class="text t102-3" style="display:none">
                            <h5>Repositoris</h5>
                            <p>Una altra manera de poder gestionar els paquets en un sistema GNU/Linux és a través dels coneguts com gestors de paquets. Aquests, necessiten per funcionar disposar d'un sèrie de repositoris configurats als que poder realitzar consultes quan sigui necessari. Els repositoris són servidors que habitualment es troben a Internet i que s'encarreguen d'emmagatzemar paquets per oferir-los a aquells sistemes que ho sol·licitin. Aquests servidors poden guardar paquets de diferents distribucions i versions, pel que a l'hora de configurar-los és important indicar amb quin sistema treballem i amb quina versió Els repositoris també estan estructurats en diferents seccions, i cada una d'elles conté una sèrie de paquets que compleix amb uns criteris determinats. Aquí teniu les seccions dels repositoris d'algunes de les distribucions més habituals.</p>
                            <br/>
                            <h5>Debian</h5>
                            <p>Els sistemes Debian són coneguts per les seves estrictes polítiques de qualitat abans d'alliberar noves versions de paquets. Els seus repositoris es reparteixen per tot el món en múltiples rèpliques que contenen els mateixos paquets, intentar cobrir zones geogràfiques per a una descàrrega més eficient. Els repositoris que el sistema utilitza han d'estar ocnfigurats en el fitxer /etc/apt/sources.list o dins del directory /etc/apt/sources.list.d/ i han de tenir una Sintaxi dels repositoris Debianconcreta</p>
                            <h6>Tipus de repositori</h6>
                            <p>Entre els repositoris oficials de Debian trobem diferents tipus:</p>
                            <p><strong>Repositori Base</strong></p>
                            <p>És el repositori que conté els paquets oficials i necessaris per a fer funcionar el sistema. Sense ell difícilment podrem realitzar la instal·lació completa del sistema operatiu. La seva estructura és:</p>
                            <pre>
                                <code>
                                    deb http://ftp.es.debian.org/debian &lt;VERSION&gt; &lt;SECTIONS&gt;  
                                    deb-src http://ftp.es.debian.org/debian &lt;VERSION&gt; &lt;SECTIONS&gt;  
                                </code>
                            </pre>
                            <p><strong>Repositori d'actualitzacions de seguretat</strong></p>
                            <p>Les actualitzacions de seguretat no es troben a la xarxa de rèpliques de Debian, sino que estan a un altre servidor mantingut per l'equip de seguretat de Debian (Debian Security Team). La seva nomenclatura seria:</p>
                            <pre>
                                <code>
                                    deb http://security.debian.org/ &lt;VERSION&gt;/updates &lt;SECTIONS&gt;  
                                    deb-src http://security.debian.org/ &lt;VERSION&gt;/updates &lt;SECTIONS&gt;  
                                </code>
                            </pre>
                            <p><strong>Repositori d'actualitzacions</strong></p>
                            <p>Les actualitzacions de seguretat no es troben a la xarxa de rèpliques de Debian, sino que estan a un altre servidor mantingut per l'equip de seguretat de Debian (Debian Security Team). La seva nomenclatura seria:</p>
                            <pre>
                                <code>
                                    deb http://ftp.es.debian.org/debian &lt;VERSION&gt;-updates &lt;SECTIONS&gt;  
                                    deb-src http://ftp.es.debian.org/debian &lt;VERSION&gt;-updates &lt;SECTIONS&gt; 
                                </code>
                            </pre>
                            <p><strong>Repositori backports</strong></p>
                            <p>Els repositoris backports proporcionen paquets per noves versions de certes actualitzacions qeu podrien alterar l'estabilitat del sistema, per això estan desactivats per defecte les seves actualitzacions</p>
                            <pre>
                                <code>
                                    deb http://ftp.es.debian.org/debian &lt;VERSION&gt;-backports &lt;SECTIONS&gt;  
                                    deb-src http://ftp.es.debian.org/debian &lt;VERSION&gt;-backports &lt;SECTIONS&gt; 
                                </code>
                            </pre>
                            <br/>
                            <h5>Sintaxi dels repositoris Debian</h5>
                            <p>Les línies configurades en el fitxer souces.list consten de 4 camps diferents:</p>
                            <pre><code>deb|deb-src</code></pre>
                            <p>Normalment els repositoris s'utilitzen per instal·lar aplicacions en el nostre sistema, pel que necessitem els repositoris que contenen els arxius instal·lables (amb extensió .deb), pel que posarem deb. En el cas de voler el codi font del paquet utilitzarem deb-src</p>

                            <br/>
                            <h5>Rèplica de repositoris</h5>
                            <pre>
                                <code>
                                    http://&lt;URL&gt;/debian  
                                </code>
                            </pre>
                            <p>Tot i no ser igual en tots els repositoris, la norma de facto acostuma a ser aquesta. El repositori es reconeix amb una URL i com a recurs dins de la URL acostuma a existir un directori Debian amb els paquets per aquesta distribució.</p>
                            <br/>
                            <h5>Versió de Debian</h5>
                            <pre>
                                <code>
                                    &lt;NAME&gt;|&lt;alias&gt;
                                </code>
                            </pre>
                            <p>En auqest tercer camp s'inidica el nom o alias de la distribució de Debian que s'utilitza. Els possibles noms son:</p>
                            <ul>
                                <li>sid</li>
                                <li>testing</li>
                                <li>stable</li>
                                <li>oldstable</li>
                            </ul>
                            <p>Com a alias podem posar el nom de la distribució (wheezy, jessie, stretch...)</p>
                            <h5>Seccions</h5>
                            <p>Els paquets que contenen els repositoris es divideixen en diferents seccions, en funció de les seves llicències.</p>
                            <ul>
                                <li><strong>main: </strong>secció oficial del repositori, on es troben tots els paquets de la distribució</li>
                                <li><strong>contrib: </strong>paquets amb llicència lliure però que no depenen de programari que no ho és</li>
                                <li><strong>non-free: </strong>paquets en els que la seva llicència no és 100% lliure</li>
                            </ul>
                            <p>Finalment, després de totes aquestes consideracions, una possible configuració de l'arxiu /etc/apt/sources.list seria:</p>
                            <pre>
                                <code>
                                    ### Repositoris base ###  
                                    deb http://ftp.es.debian.org/debian stretch main contrib  
                                    deb-src http://ftp.es.debian.org/debian stretch main contrib  

                                    ### Actualitzacions de seguretat ###  
                                    deb http://security.debian.org/ stretch/updates main contrib  
                                    deb-src http://security.debian.org/ stretch/updates main contrib  

                                    ### Altres actualitzacions ###  
                                    deb http://ftp.es.debian.org/debian stretch-updates main contrib  
                                    deb-src http://ftp.es.debian.org/debian stretch-updates main contrib  

                                    ### Repositoris backports ###  
                                    deb http://ftp.es.debian.org/debian stretch-updates main contrib  
                                    deb-src http://ftp.es.debian.org/debian stretch-updates main contrib  
                                </code>
                            </pre>
                            <br/>
                            <h5>Ubuntu</h5>
                            <p>Els repositoris d'Ubuntu són molt semblants als de Debian. Tenen els mateixos tipus i es configuren en el mateix fitxer sources.list. La única diferència a senyalar són les seccions de repositori, que tenen nom diferent:</p>
                            <ul>
                                <li><strong>main: </strong>aplicacions lliures i plenament suportades per per l'equip d'Ubuntu</li>
                                <li><strong>restricted: </strong>programari d'ús comú que no és programari lliure (amb suport d'Ubuntu)</li>
                                <li><strong>universe: </strong>	aplicacions lliures sense suport d'Ubuntu</li>
                                <li><strong>multiverse: </strong>programari no lliure i sense suport</li>
                            </ul>
                            <br/>
                            <h5>RedHat</h5>
                            <p>En el cas dels repositoris RedHat trobem una distribució de paquets semblant a les anteriors, però amb una configuració diferent dels repositoris deins del sistema. En els sistemes RedHat i derivats s'utilitza el directori /etc/yum.repos.d/ on es guarda un arxiu per cada un dels repositoris que es volen tenir configurats. Aquests fitxers tenen una estructura concreta com la que es mostra a continuació:</p>
                            <pre>
                                <code>
                                    [repositoryid]  
                                    name=        "Nom identificatiu per descriure el repositori  
                                    baseurl=     "Adreça completa del recurs que conté els arxius instal·lables"  
                                    mirrorlist=  "URL que conté una llista de baseurl"  
                                    enabled=     0|1 "indica si serà consultat o no per yum"  
                                    gpgcheck=    0|1 "indica si utilitza o no una clau GPG per signar els paquets"
                                    gpgkey=      "Ruta de la signatura GPG que utlitza el repositori"  
                                </code>
                            </pre>
                        </div>
                        <br/>
                        <h6 class="title_t102-4">Gestió de llibreries compartides</h6>
                        <div class="text t102-4" style="display:none">
                            <p>Les aplicacions es poden classificar en 2 grans grups si ens fixem en la implementació del seu codi font</p>

                            <h5>Aplicacions enllaçades estàticament</h5>
                            <p>Consisteixen en programes que contenen totes les llibreries necessàries pel seu funcionament en el seu interior, pel que no depenen de res per poder-se executar</p>
                            <br/>
                            <h5>Aplicacions enllaçades dinàmicament</h5>
                            <p>Consisteixen en programes que no disposen per si mateixos de totes les funcions necessàries per la seva execució. És a dir, necessiten d'una sèrie de llibreries externes a l'aplicació que es troben dins del propi sistema.</p>
                            <p>Les aplicacions enllaçades dinàmicament, tot i no poder-se executar per si mateixes, permeten la possibilitat de compartir llibreries entre programes, fent així el seu codi més petit. Això facilita també la seva execució a l'ocupar menys recursos en RAM. És per això que la majoria d'aplicacions actuals estiguin dissenyats seguint aquest model</p>
                            <br/>
                            <h5>ldd</h5>
                            <p>Ens permet consultar si una aplicació està enllaçda dinàmicament o no. En el cas d'estar-ho ens mostra un llistat de les llibreries que el programa necesista per funcionar</p>
                            <pre>
                                <code>
                                    $ ldd /bin/ln
                                        linux-vdso.so.1 (0x00007ffdc8dda000)
                                        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f1410c72000)
                                        /lib64/ld-linux-x86-64.so.2 (0x00007f141121f000)
                                </code>
                            </pre>
                            <br/>
                            <h5>Configuració de llibreries compartides</h5>
                            <p>Per tal que un programa enllaçat dinàmicament es pugui executar és necessari conèixer la ubicació de les seves llibreries. En el cas de no ser detectades pel sistema podem definir una variable d'entorn, la qual contindrà les rutes absolutes de les ubicacions de les llibreries necessàries per l'aplicació:</p>
                            <pre>
                                <code>
                                    $ export LD_LIBRARY_PATH=/usr/local/myapp:/usr/lib/myapp
                                </code>
                            </pre>
                            <p>Una altra forma d'incorporar nous PATH's a la consulta de llibreries és editant el fitxer de configuració /etc/ld.so.conf i afegint en ell les noves rutes absolutes:</p>
                            <pre>
                                <code>
                                    $ cat /etc/ld.so.conf
                                    /usr/lib
                                    /usr/X11R6/lib/Xaw3d
                                    /usr/X11R6/lib

                                    /usr/local/myapp
                                    /usr/local/Myanmar
                                </code>
                            </pre>
                            <br/>
                            <h5>ldconfig</h5>
                            <p>La comanda ldconfig permet actualitzar la llista d'ubicacions on serà cercada una llibreria. Aquesta llista consisteix en un fitxer caché, anomenat /etc/ld.so.cache i que conté totes les llibreries dels directoris. El que fa aquesta comanda és consultar totes les ubicacions configurades en el fitxer /etc/ld.so.conf</p>   
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t103">Topic 103: GNU and Unix Commands</h5>
                    <div class="topic t103" style="display:none">
                        <br/>
                        <h6 class="title_t103-1">Ajuda del sistema</h6>
                        <div class="text t103-1" style="display:none">
                            <h5>man</h5>
                            <p>La comanda man ens permet consultar el manual de referència de moltes de les comandes del sistema. Consta de diferents apartats, que són:</p>
                            <pre>
                                <code>

                                NAME              Provides the name of the command and a very brief description.  

                                SYNOPSIS          A brief summary of the command or function's interface. A summary of how the command line syntax of the program looks.  

                                DESCRIPTION       Provides a more detailed description of the command.  

                                OPTIONS           Lists the options for the command as well as a description of how they are used. Often this information will be found in the DESCRIPTION section and not in a separate OPTIONS section.  

                                FILES             Lists the files that are associated with the command as well as a description of how they are used. These files may be used to configure the command's more advanced features. Often this information will be found in the DESCRIPTION section and not in a separate FILES section.  

                                AUTHOR            The name of the person who created the man page and (sometimes) how to contact the person.  

                                REPORTING BUGS    Provides details on how to report problems with the command.  

                                COPYRIGHT         Provides basic copyright information.  

                                SEE ALSO          Provides you with an idea of where you can find additional information. This also will often include other commands that are related to this command.  
                                </code>
                            </pre>
                            <br/>

                            <h5>SECCIONS</h5>
                            <p>Les pàgines del man s'estructuren en 9 seccions diferents en funció del tipus de manual al que es fa referència:</p>
                            <pre>
                                <code>
                                     1	Comandes generals  

                                     2	Crides al sistema  

                                     3	Biblioteques C de funcions  

                                     4	Fitxers especials (dispositius i drivers)  

                                     5	Format de fitxers  

                                     6	Jocs  

                                     7	Misc  

                                     8	Comandes d'administració del sistema i dimonis  

                                     9	Rutines del kernel  
                                </code>
                            </pre>
                        </div>
                        <br/>
                        <h6 class="title_t103-2">Consulta de fitxers</h6>
                        <div class="text t103-2" style="display:none">
                            <p>Qualsevol administrador de sistemes GNU/Linux ha de conèixer una sèrie de comandes necessàries per poder fer una operació bàsica del sistema i dels seus fitxers. A continuació es veuen algunes de les comandes més habituals de consulta d'informació del sistema i de fitxers.</p>
                            <p><strong>cat</strong></p>
                            <p>Al comanda cat permet concatenar fitxers. La comanda cat permet mostrar, per la sortida estàndard, el contingut de varis fitxers a la vegada:</p>
                            <pre><code>
                            $ cat file1 file2 file3
                            </code></pre>

                            <p>Si el que volem és bolcar el contingut de varis fitxers a un de sol hem de fer ús de les redireccions:</p>
                            <pre><code>
                            $ cat cat file1 file2 file3> file_all
                            </code></pre>

                            <p>Algunes de les opcions més utilitzades de la comanda cat són:</p>
                            <ul>
                                <li><strong>-n: </strong>numera les línies de la sortida de dades</li>
                                <li><strong>-b: </strong>numera les línies de la sortida de dades que no estiguin en blanc</li>
                                <li><strong>-s: </strong>elimina línies en blanc duplicades</li>
                                <li><strong>-E: </strong>mostra el caràcter de final de línia $</li>
                            </ul>

                            <h5>echo</h5>
                            <p>La comanda echo, com el seu nom indica, el que fa és repetir tot allò que se li passi com a arguments a la comanda.</p>
                            <pre><code>
                            $ echo Hola Món
                            Hola Mon
                            </code></pre>

                            <p>Amb la comanda echo també podem comprovar quin valor tenen les variables d'entorn de la shell</p>
                            <pre><code>
                                $ echo $HOME
                                /home/super
                            </code></pre>


                            <p>La comanda echo, tot i semblar de poca utilitat, és una de les més utilitzades per poder mostrar text per pantalla, sobretot a l'hora de realitzar shell scripts</p>

                            <h5>env</h5>
                            <p>La comanda env permet executar un programa en un entorn modificat. A través de env podem definir un valor concret per les variables d'entorn i executar un script amb aquests valors</p>
                            <pre><code>
                                $ echo "echo $HOME"> my_home.sh
                                $ ./my_home.sh
                                /home/super
                                $ env HOME=/usr/share ./my_home.sh
                                /usr/share
                            </code></pre>

                            <h5>file</h5>

                            <p>La comanda file permet obtenir informació d'un fitxer o conèixer la codificació (–mime)</p>
                            <pre><code>
                                $ file --mime fitxer
                                fitxer: text/plain; charset=us-ascii
                            </code></pre>

                            <h5>find</h5>

                            <p>La comanda find ens permet poder fer cerques dins del sistema seguint uns patrons determinats de cerca i sobre una ubicació determinada. Dins del manual podem trobar totes les possibilitats de filtres de recerca. La seva sintaxis és:</p>
                            <pre><code>
                                find [PATH] [EXPRESSION]
                            </code></pre>

                            <p>El paràmetre [EXPRESSION] serveix per indicar els filtres que volem aplicar a la nostra cerca. Alguns dels filtres més habituals són:</p>
                            <ul>
                                <li><strong>inum: </strong>nº de inode del fitxer</li>
                                <li><strong>maxdepth: </strong>nivell de profunditat de recerca sobre la ubicació donada</li>
                                <li><strong>mtime: </strong>marca de temps de la última modificació</li>
                                <li><strong>name: </strong>nom del fitxer</li>
                                <li><strong>perm: </strong>permisos del fitxer</li>
                                <li><strong>size: </strong>mida del fitxer</li>
                                <li><strong>type: </strong>tipus de fitxer cercat (arxiu, directori, enllaç)</li>
                            </ul>

                            <h5>head</h5>
                            <p>La comanda head mostra les primeres línies d'un fitxer. Per defecte mostra les 10 primeres, però es poden veure les que es vulgui:</p>
                            <pre><code>
                                $ head -N //file//
                            </code></pre>
                            <h5>history</h5>
                            <p>La comanda history ens permet consultar l'historial d'ordres realitzades des del terminal per un usuari. Aquest historial es guarda al tancar la sessió d'usuari en el fitxer .bash_history que hi ha a la HOME de l'usuari</p>
                            <pre><code>
                                $ history
                                46 cat numbers
                                47 expand -t 2 numbers
                                48 cat lpic_overview
                                49 fmt lpic_overview
                            </code></pre>
                            <p>A més de consultar l'historial de comandes, la comanda history ens permet poder executar comandes ja utilitzades a través de les següents opcions:</p>
                            <pre><code>
                                $ !46          --> s'executa la comanda de l'historial numero 46
                                $ !!           --> s'executa la última comanda
                                $ history -N   --> mostra les N últimes línies de l'historial
                                $ history -a   --> sincronitza la comanda history amb el fitxer .bash_history
                                $ history -c   --> esborra l'historial
                                $ Ctrl+P       --> mostra la última comanda (no s'executa)
                                $ Ctrl+r     --> busca en l'historial comandes executades seguint el patró indicat
                            </code></pre>
                            <p>El funcionament de la comanda es pot personalitzar modificant les variables d'entorn que utilitza history:</p>
                            <pre><code>
                                HISTSIZE:      --> mida de l'historial
                                HISTFILESIZE:  --> numero de línies del fitxer .bash_history
                                HISTIGNORE:    --> comandes que no es guarden a l'historial
                            </code></pre>
                            <h5>less</h5>
                            <p>La comanda less permet paginar la sortida de dades estàndard de pantalla. A diferència de la comanda more, amb less podem moure'ns amunt i avall pels resultats que ja s'han mostrat per pantalla</p>
                            <h5>ls</h5>
                            <p>Una de les primeres comandes que aprèn qualsevol administrador de sistemes és ls, que permet mostrar el contingut d'un directori del sistema. Té multitud d'opcions, per tal de poder fer diferents visualitzacions.</p>

                            <pre><code>
                                a mostra els fitxers ocults també
                                A mostra els fitxers ocults menys els directoris . i ..
                                g similar a -l, però només mostra al grup
                                h mostra la mida en format humà
                                i mostra l'inode
                                l llistat en format llarg
                                o similar a -l, però només mostra al propietari
                                p afegeix "/" als directoris
                                r mostra en ordre invers
                                s mostra la mida de cada fitxer en blocs
                                S mostra els resultats ordenats per mida
                                t ordena pel temps de modificació
                                x mostra ordenats per fila enlloc de columna
                                more
                            </code></pre>

                            <p>La comanda more permet paginar la sortida de dades per pantalla, de manera que les dades que apareixen es pausen quan la pantalla queda plena. A partir d'aquí podem anar clicant Enter per veure noves línies o "Espai" per mostrar una pàgina nova. Com el seu nom indica només permet veure més, pel que no podem tornar enrere, cosa que si permet less</p>

                            <h5>od</h5>
                            <p>La comanda od permet visualitzar el contingut d'un fitxer en format octal (o altres)</p>
                            <pre><code>
                                $ cat numbers 1 2 3 4
                                $ od numbers 0000000 020061 020062 020063 005064 0000010
                            </code></pre>
                            <h5>tail</h5>
                            <p>La comanda tail mostra el final d'un fitxer. Comanda molt semblant a head, amb la diferència que té una opció per veure les actualitzacions del fitxer de forma constant. Per defecte mostra les últimes 10 línies del fitxer que se li indica, però es poden veure el numero de línies que es vulguin:<p>
                            <pre><code>
                                -N: –> mostra les N últimes línies.
                                -f –> mostra les actualitzacions que es produeixen en el fitxer
                            </code></pre>
                        </div>
                        <br/>
                        <h6 class="title_t103-3">Manipulació de fitxers</h6>
                        <div class="text t103-3" style="display:none">
                            <p>Qualsevol administrador de sistemes GNU/Linux ha de conèixer una sèrie de comandes necessàries per poder fer una operació bàsica del sistema i els seus fitxers. A continuació es veuen algunes de les comandes més habituals de manipulació de fitxers.</p>

                            <h5>cp</h5>
                            <p>La comanda cp serveix per copiar fitxers entre 2 ubicacions diferents del sistema. La seva sintaxi és:</p>
                            <pre><code>
cp SOURCE DEST
                            </code></pre> 

                            <p>Algunes de les comandes més habituals de la comanda cp són:</p>

                            <ul>
                                <li><strong>-i:</strong> mode interactiu. Pregunta abans d'executar la operació</li>
                                <li><strong>-l:</strong> crea un enllaç fort enlloc de fer una còpia del fitxer origen</li>
                                <li><strong>-n:</strong> no permet sobreescriure el fitxer destí en cas que existeixi</li>
                                <li><strong>-p:</strong> conserva els permisos, propietari, grup i marques de temps</li>
                                <li><strong>-r:</strong> copia de manera recursiva directoris i altre objectes continguts</li>
                            </ul>
                            <br/>
                            <h5>cut</h5>
                            <p>La comanda cut permet extreure dades de cada una de les línies d'un fitxer i les mostra per la sortida estàndard. Les dades que es poden extreure es poden indicar de 3 maneres diferents:</p>
                            <pre><code>
                                Per Bytes (-b): extreu la llista de Bytes indicada
                                Per caràcter (-c): extreu la llista de caràcters indicada
                                Per camps (-f): extreu la llista de camps indicada. Per defecte utilitza el tabulador com delimitador de camp, però podem indicar quin és el delimitador amb la opció -d
                                Per poder extreure dades totes les opcions accepten indicar un valor concret o un rang (tancat o obert):

                                N: indica un camp específic
                                N-M: indica un rang determinat (tancat)
                                N- | N+: indica un rang obert
                                expand
                                La comanda expand permet convertir les tabulacions d'un fitxer en espais. Amb la opció -t pots indicar els caràcters de separació que es volen

                                $ cat numbers
                                1    2    3    4
                                $ expand -t 2 numbers
                                1  2  3  4
                            </code> </pre>

                            <h5>fmt</h5>
                            <p>La comanda fmt permet delimitar l'amplada (en caràcters) de les línies d'un fitxer</p>
                            <pre><code>
                                $ cat lpic_overview


                                LPIC-1 is the first certification in LPI’s multi-level Linux professional certification program. The LPIC-1 will validate the candidate's ability to perform maintenance tasks on the command line, install and configure a computer running Linux and configure basic networking.

                                The LPIC-1 is designed to reflect current research and validate a candidate's proficiency in real world system administration. The objectives are tied to real-world job skills, which we determine through job task analysis surveying during exam development.

                                $ fmt lpic_overview
                                LPIC-1 is the first certification in LPI’s multi-level Linux
                                professional certification program. The LPIC-1 will validate the
                                candidate's ability to perform maintenance tasks on the command line,
                                install and configure a computer running Linux and configure basic
                                networking.

                                The LPIC-1 is designed to reflect current research and validate
                                a candidate's proficiency in real world system administration. The
                                objectives are tied to real-world job skills, which we determine through
                                job task analysis surveying during exam development.
                            </code></pre> 

                            <h5>join</h5>
                            <p>La comanda join combina les línies de 2 fitxers que tenen un camp comú coincident en tots dos. Utilitza l'espai com a delimitador de camp, però amb la opció -t podem especificar quin caràcter volem utilitzar per indicar els camps dels fitxers. Per defecte join utilitza el primer camp de cada fitxer com a coincident. No obstant, es pot indicar quin camp de cada fitxer volem utilitzar amb les opcions -1 i -2.</p>
                            <pre><code>
                                            $ cat telefons
                                            935553344,Maria Alvarez
                                            935556677,Albert Casas
                                            935558899,Joan Ros

                                            $ cat adreces
                                            c/Muntaner 21,Barcelona,Maria Alvarez
                                            c/Rossello 33,Barcelona,Albert Casas
                                            c/Girona 94,Barcelona,Joan Ros

                                            $ join -t "," -1 2 -2 3 telefons adreces
                                            Maria Alvarez,935553344,c/Muntaner 21,Barcelona
                                            Albert Casas,935556677,c/Rossello 33,Barcelona
                                            Joan Ros,935558899,c/Girona 94,Barcelona
                            </code></pre>

                            <h5>mkdir</h5>
                            <p>La comanda mkdir s'utilitza per crear directoris. La opció -p permet poder crear varis nivells de directoris a la vegada.</p>

                            <h5>mv</h5>
                            <p>La comanda mv permet moure o canviar el nom a un fitxer o directori. Necessita rebre com a arguments el fitxer origen i el destí (o la destinació). El seu funcionament intern en realitat el que fa és canviar el nom de la ubicació però mantenint l'inode del fitxer, però no mou les dades físiques del disc. Per això és una operació molt ràpida pel sistema</p>
                            <pre><code>
                                    mv SOURCE DESTINATION
                            </code></pre>

                            <h5>nl</h5>
                            <p>La comanda nl permet numerar les línies d'un fitxer. Algunes de les opcions de la comanda són:</p>
                            <ul>
                                <li><strong>-s 'X': </strong>permet indicar els caràcters entre els números de línia i el seu text</li>
                                <li><strong>-b 'pXXX': </strong>permet numerar només les línies que contenen un patró determinat</li>
                                <li><strong>-ba: </strong>permet numerar les línies en blanc del fitxer</li>
                                <li><strong>-w 'X': </strong>permet ajustar els espais a l'inici de la línia</li>
                            </ul>

                            <h5>paste</h5>
                            <p>La comanda paste fusiona les línies de 2 fitxers una a una.</p>
                            <pre><code>
                                    $ paste adreces telefons
                                    c/Muntaner 21,Barcelona,Maria Alvarez    935553344,Maria Alvarez
                                    c/Rossello 33,Barcelona,Albert Casas    935556677,Albert Casas
                                    c/Girona 94,Barcelona,Joan Ros    935558899,Joan Ros
                            </code></pre>

                            <h5>pr</h5>
                            <p>La comanda pr s'utilitza per preparar fitxers per la seva impressió. Entre d'altres coses ens permet afegir una capcelera i peu de pàgina, i també formatar l'amplada de línia del fitxer.</p>

                            <pre><code>
                                    $ pr lpic_overview
                                    2018-02-05 19:22                 lpic_overview                  Pàgina 1

                                    LPIC-1 is the first certification in LPI’s multi-level Linux professional certification
                                    program. The LPIC-1 will validate the candidate's ability to perform maintenance tasks on
                                    the command line, install and configure a computer running Linux and configure basic networking.
                            </code></pre> 

                            <h5>rm</h5>
                            <p>La comanda rm s'utilitza per eliminar fitxers (o directoris). La seva sintaxi és:</p>
                            <pre><code>
                                    rm [OPTIONS] FILE
                            </code></pre>

                            <p>Aquesta comanda elimina completament del disc la informació, pel que no es podran recuperar les dades esborrades. Alguna de les opcions habituals són:</p>
                            <ul>
                                <li><strong>-f: </strong>força l'execució de la comanda</li>
                                <li><strong>-r: </strong>esborra de manera recursiva (utilitzat per directoris no buits)</li>
                                <li><strong>-i: </strong>pregunta abans de realitzar la operació</li>
                            </ul>
                            <h5>rmdir</h5>
                            <p>La comanda rmdir permet esborrar directoris buits</p>

                            <h5>sort</h5>
                            <p>La comanda sort permet ordenar una sèrie de dades d'entrada que se li passin a la comanda. Per defecte la ordenació es fa de manera alfabètica, però es pot modificar:</p>
                            <ul>
                                <li><strong>-n:</strong>  ordena numèricament</li>
                                <li><strong>-r:</strong>  permet fer ordenacions inverses</li>
                                <li><strong>-k | -t:</strong>  l'opció -k permet indicar el camp a partir del qual volem fer la ordenació, i la opció -t indica el delimitador de camp</li>
                            </ul>
                            <p>Quan es fa la ordenació alfabètica el sistema utilitza el valor de la variable $LANG. Si volem que ho faci seguint la taula ASCII fariem:</p>
                            <pre><code>
                                    $ export LANG=C
                            </code></pre>

                            <h5>split</h5>
                            <p>La comanda split divideix un fitxer en múltiples fitxers més petits. La divisió es pot fer per mida o per numero de línies:</p>

                            -b: –> indica la mida dels fitxers en que es divideix el fitxer original
                            -C: –> indica la mida màxima que poden tenir els fitxers en que es divideix el fitxer original (no trenca els salts de línia)
                            -l: –> indica el numero de línies que té cada un dels fitxers en que es divideix el fitxer original

                            <h5>touch</h5>
                            <p>Els sistemes Linux mantenen 3 marques de temps (timestamps) per a cada fitxer del sistema:</p>
                            <ul>
                                <li>Temps de l'últim accés (last acces time o atime): Marca l'últim cop que el fitxer ha estat llegit.</li>
                                <li>Temps de l'última modificació (last modification time o mtime): Marca l'últim cop que els continguts del fitxer van ser modificats.</li>
                                <li>Temps de canvi (change time o ctime): marca l'últim cop que els permisos del fitxer van ser modificats.</li>
                            </ul>

                            <p>L'ordre touch permet modificar les marques de temps d'un fitxer. La sintaxi és la següent:</p>
                            <pre><code>
                                    touch [OPTIONS] FILE
                            </code></pre> 

                            <p>A més, si el fitxer especificat no existeix, la comanda touch el crea i actualitza les seves marques de temps. Si volem consultar les marques de temps d'un fitxer podem fer servir la comanda stat.</p>

                            <h5>tr</h5>
                            <p>La comanda tr modifica (o elimina) caràcters de l'entrada estàndar de dades, caràcter a caràcter:</p>
                            <pre><code>
                                    $ cat file1
                                    Fitxer de proves


                                    $ cat file1 | tr 'F' 'f'
                                    fitxer de proves
                            </code></pre>

                            <p>Amb la opció -d podem eliminar els caràcters indicats</p>
                            <pre><code>
                                    $ cat file1 | tr -d 'Fx'
                                    iter de proves
                            </code></pre>
                        </div>
                        <br/>
                        <h6 class="title_t103-4">Filtres i redireccions</h6>
                        <div class="text t103-4" style="display:none">

                            <p>Un dels grans atractius de treballar des del terminal de sistemes GUN/Linux és la possibilitat d'utilitzar filtres i redireccions amb les dades d'entrada i sortida de les comandes.</p>

                            <p>En aquests tipus de sistemes les dades d'entrada i se sortida es gestionen per canals diferents. En concret ens interessa conèixer 3 d'aquests canals:</p>
                            <ul>
                                <li><strong>Canal 0 (stdin):</strong> dades d'entrada</li>
                                <li><strong>Canal 1 (stdout):</strong> dades de sortida</li>
                                <li><strong>Canal 2 (stderr):</strong> errors de sortida</li>
                            </ul>
                            <p>Coneixent aquesta informació podem redireccionar el canal que vulguem de la manera que més ens interessi.</p>
                            <h5>Redireccions (&lt;|&gt;)</h5>

                            <p>Les redireccions consisteixen en el fet de poder enviar les dades d'entrada (<) o de sortida (>) a un lloc diferent al canals d'entrada i sortida estàndard (teclat i pantalla respectivament. Així, si volem que una comanda utilitzi com a dades d'entrada els que hi ha en un arxiu determinat podem fer el següent:</p>
                            <pre><code>
                                $ COMMAND < INPUT_FILE  
                            </code></pre>


                            <p>De la mateixa manera, si el que volem és redireccionar les dades de sortida ho podem fer amb:</p>
                            <pre><code>
                                $ COMMMAND > OUTPUT_FILE  
                            </code></pre>


                            <p>En aquest cas estem redireccionant la sortida estàndard de dades, el canal 1. Si volguéssim redireccionar els errors cap a un fitxer hauríem d'indicar-ho així:<p>
                            <pre><code>
                                $ COMMAND 2> ERROR_FILE
                            </code></pre>


                            <p>A banda d'aquestes redireccions existeixen algunes combinacions més:</p>

                            <table>
                                <tr>
                                    <td><strong>Redirecció</strong></td>
                                    <td><strong>Significat</strong></td>
                                </tr>
                                <tr>
                                    <td>&lt;&lt;</td>
                                    <td>redirecciona les dades de sortida i afegeix-les a un fitxer ja existent</td>
                                </tr>
                                <tr>
                                    <td>2&lt;&lt;</td>
                                    <td>redirecciona les dades d'error i afegeix-les a un fitxer ja existent</td>
                                </tr>
                                <tr>
                                    <td>&AMP;&lt;</td>
                                    <td>redirecciona les dades d'error al mateix fitxer que les dades de sortida</td>
                                </tr>
                                <tr>
                                    <td>&AMP;&lt;&lt;</td>
                                    <td>redirecciona les dades d'error al mateix fitxer que les dades de sortida afegint-les a les ja existents</td>
                                </tr>
                                <tr>
                                    <td>&lt;&gt;</td>
                                    <td>El fitxer indicat a la dreta és entrada i sortida de dades</td>
                                </tr>
                            </table>

                            <h5>Canonades (|)</h5>

                            <p>Les canonades (pipes) són conductes que relaciones les dades de sortida d'una comanda amb les dades d'entrada d'una altre. Així doncs, si per exemple volem aplicar un filtre grep de la paraula "firefox" al resultat que dona el llistat de processos del sistema podem fer el següent:</p>
                            <pre><code>
                                $ ps -ef | grep firefox  
                            </code></pre>


                            <p>D'aquesta manera, les dades de sortida de la comanda ps (tota la llista de processos del sistema) es converteix en les dades d'entrada de grep sobre les que aplicarà el filtre de la paraula indicada.</p>
                            <h5>grep</h5>

                            <p>La comanda grep (o egrep) permet realitzar cerques seguint un patró determinat. Donades unes dades d'entrada, grep cerca coincidències en elles i retorna les línies on existeix coincidència amb el patró donat.</p>
                            <ul>
                                <li><strong>-A:</strong> (after-context) mostra n línies per sota de la coincident</li>
                                <li><strong>-B:</strong> (before-context) mostra n línies per sobre de la coincident</li>
                                <li><strong>-c:</strong> (count) mostra només la quantitat de resultats coincidents</li>
                                <li><strong>-f:</strong> (file) agafa els filtres a aplicar d'un fitxer</li>
                                <li><strong>-i:</strong> (ignore-case) no diferencia entre majúscules i minúscules</li>
                                <li><strong>-m[N]:</strong> (max-count) mostra un nombre n màxim de coincidències</li>
                                <li><strong>-n:</strong> (line-number) mostra el número de línia on s'ha produït la coincidència</li>
                                <li><strong>-o:</strong> (only-matching) mostra només allò cercat, no tota la línia</li>
                                <li><strong>-q:</strong> (quiet) no escriu cap resultat a la sortida estàndard. Surt amb l'estat zero si ha trobat alguna coincidència</li>
                                <li><strong>-r:</strong> (recursive) aplica els filtres de grep de manera recursiva en tots els subdirectoris</li>
                                <li><strong>-v:</strong> (invert-match) mostra les línies que no contenen cap coincidència amb l'expressió indicada</li>
                                <li><strong>-w:</strong> exact match</li>
                            </ul>
                            <p>Existeixen altres comandes per fer filtrat, però no deixen de ser opcions específiques de la comanda grep</p>
                            <h5>egrep</h5>

                            <p>Equivalent a fer grep -E:</p>
                            <ul>
                                <li><strong>-E:</strong> (extended-regexp) permet utilitzar regex</li>
                            </ul>
                            <h5>fgrep</h5>

                            <p>Equivalent a fer grep -F:</p>
                            <ul>
                                <li><strong>-F:</strong> (fixed-strings) permet fer cerques de múltiples arguments, però no accepta expressions regulars, i els arguments han d'estar en diferents línies</li>
                            </ul>
                            <h5>rgrep</h5>

                            <p>Equivalent a fer grep -R:</p>
                            <ul>
                                <li><strong>-R: </strong>(recursive) aplica els filtres de grep de manera recursiva en tots els subdirectoris, seguint els enllaços simbòlics</li>
                            </ul>
                            <h5>sed</h5>

                            <p>La comanda sed és un editor de flux (stream editor) que permet fer transformacions bàsiques de text en un de flux de dades d'entrada línia per línia. Els resultats de les operacions surten per stdout.</p>

                            <p>Donades unes dades d'entrada, sed defineix sobre quina línia o línies s'executaran les operacions indicades. Això es pot fer especificant el número de línia sobre la que es vol operar o especificant un patró donat que es trobi en una sèrie de línies.</p>

                            <p>Dins de tots els conjunts d'operacions que permet fer sed hi ha 3 que són les utilitzades amb més freqüència (printing, delteion, substitution)</p>
                            <pre><code>
                                N/p                           --> imprimeix la línia indicada (amb opció -n)  
                                /match/p                      --> imprimeix les línies que compleixen amb el patró donat (amb opció -n)  

                                'N'd                           --> suprimeix la línia indicada  
                                /pattern/d                    --> suprimeix les línies que compleixen amb el patró donat.  
                            </code></pre>

                            <pre><code>
                                s/pattern1/pattern2/          --> substitueix pattern1 per pattern2 en la primera coincidència de cada línia del fitxer.  
                                s/pattern1/pattern2/g          --> substitueix pattern1 per pattern2 en totes les coincidències de cada línia del fitxer.  
                                /match/s/pattern1/pattern2/   --> substitueix pattern1 per pattern2 en la primera coincidència de les línies del fitxer que continguin "match"  
                                /match/s/pattern1/pattern2/g  --> substitueix pattern1 per pattern2 en totes les coincidències de les línies del fitxer que continguin "match"  
                            </code></pre>


                            <p>Altres operacions que es poden fer amb sed són els reemplaçaments de caràcters o la inserció de línies de text:</p>
                            <pre><code>
                                /match/y/pattern1/pattern2/   --> reemplaça els caràcters de pattern1 pels de pattern2 (caràcter a caràcter) en les línies del fitxer que continguin "match"  
                                'Ni pattern'                  --> afegeix pattern a la línia N de la sortida de dades (amb opció -e)   
                                '/match/i pattern'            --> afegeix pattern abans de les línies que coincidixen amb "match" de la sortida de dades (amb opció -e)  
                            </code></pre>


                            <h5>Amb la comanda sed també podem modificar el contingut d'un fitxer. Fent ús de la opció -i seguit de les expressions anteriors:</h5>
                            <pre><code>
                                $ cat template.conf  
                                  ServerName template.com  
                                  ServerAlias webmaster@template.com  
                                  DocumentRoot /var/www/html/template  

                                $ sed -i s/template/site/g template.conf  

                                $ cat template.conf  
                                  ServerName proves.com  
                                  ServerAlias webmaster@proves.com  
                                  DocumentRoot /var/www/html/proves  
                            </code></pre>

                            <h5>tee</h5>

                            <p>La comanda tee llegeix les dades d'entrada i les escriu a la sortida estàndar i a un fitxer donat.</p>
                            <pre><code>
                                $ history | tee myhistory.txt  
                            </code></pre>

                            <h5>xargs</h5>

                            <p>La comanda xargs permet construir i executar comandes amb arguments més complexes. L'objectiu de la comanda és poder executar una mateixa ordre a multitud de fitxers. Per exemple, si volem esborrar tota una sèrie de fitxers que compleixen un patró determinat, podem combinar la comanda xargs ammb el resultat de la comanda find:</p>
                            <pre><code>
                                $ find . -type f -name "*pdf" | xargs rn -r  
                            </code></pre>

                            <p>Alguna de les opcions de xargs són:</p>
                            <ul>
                                <li>I {} &RightArrow; ens permet indicar en quin lloc s'ubiquen els arguments que s'han de passar a la comanda xargs</li>
                                <li>n &RightArrow; indica el número d'arguments per línia</li>
                                <li>P &RightArrow; premet definir el número de processos en paral·lel que es llencen de manera simultània</li>
                                <li>t &RightArrow; permet veure la comanda abans d'executar-la</li>
                            </ul>

                        </div>
                        <br/>
                        <h6 class="title_t103-5">Expressions regulars</h6>
                        <div class="text t103-5" style="display:none">
                            <h5>Què és?</h5>
                            <p>Una epxressió regular és una seqüència de caràcters que permeten descriure un text que volem cercar. Dins d'aquesta seqüència tenim caràcters ordinaris i metacaràcters. Els metacaràcters són caràcters especials, amb un significat específic dins de l'expressió regular.</p>

                            <h5>Expressions regulars vs patrons de fitxers</h5>
                            <p>Tot i que en ocasion puguin resultar semblants, les expressions regulars no són patrons de fitxers (globbing). Aquests últims s'utlitzen sobre els fitxers que el sistema té emmagatzemats a disc, pel que el retorn del sistema és una llista de coincidències de fitxers. Les expressions regulars, en canvi, s'executen sobre el text i ens retornen les línies del text que contenen el text cercat.</p>

                            <p>Existeixen diferents tipus d'expressions regulars. Les més utilitzades es troben són les de POSIX i PERL, tot i que hi ha programes - com vi o emacs - que utilitzen variants d'aquestes. Per això, abans de començar a utilitzar expressions regulars amb algun programa és conevnient revisar primer el seu manual, per veure de qina forma estan descrites les expressions regulars en ell.</p>

                            <p>Les expressions regulars es divideixen en bàsiques i esteses, i no totes les comandes del sistema accepten ambdues. De fet, les expressions regulars esteses són una evolució de les bàsiques que ens proporcionen una major potència de recerca i filtrat del text d'un fitxer.</p>

                            <p>Expressions regulars bàsiques</p>
                            <ul>
                                <li>.: qualsevol caràcter</li>
                                <li>*: 0 o més repeticions del caràcter anterior</li>
                                <li>^: inici de línia</li>
                                <li>$: final de línia</li>
                                <li>\: escapament (dona significat literal a un metacaràcter)</li>
                                <li>[ ]: qualsvol del caràcters indicats</li>
                                <li>[^ ]: qualsvol del caràcters no indicats</li>
                                <li>\{ \}: numero de repeticions del patró anterior (accepta intervals)</li>
                                <li>: agrupació de patrons</li>
                            </ul>
                            <p>Expressions regulars esteses</p>
                            <ul>
                                <li>+: 1 o més repeticions del caràcter anterior</li>
                                <li>?: 0 o 1 repetició del caràcter anterior</li>
                                <li>\<: inici de paraula</li>
                                <li>\>: final de paraula</li>
                                <li>{ }: numero de repeticions del patró anterior (accepta intervals)</li>
                                <li>|: caràcters alternatius</li>
                                <li>( ): agrupació de patrons</li>
                            </ul>
                        </div>
                        <br/>
                        <h6 class="title_t103-6">File Globbing</h6>
                        <div class="text t103-6" style="display:none">
                            <p>File globbing és un procés mitjançant el qual podem referenciar una sèrie determinada de fitxers que compleixin unes condicions donades, per després realitzar operacions amb ells. Existeixen 3 tipus de globs (o wildcards):</p>

                            <p>*</p>
                            <p>El símbol * (asterisc) ens permet indicar que ens estem referint a qualsevol quantitat de caràcters (de 0 a N) i a qualsevol caràcter possible. Veiem-ho en un exemple:</p>
                            <pre><code>
                                $ ls
                                file1   file4    file21   file097
                                file2   file5    file32   file123
                                file3   file6    file43   file222

                                $ ls file2*
                                file2   file21   file222
                            </code></pre>


                            <p>?</p>
                            <p>El símbol ? (interrogant) ens permet indicar que ens estem referint a una única coincidència de qualsevol caràcter possible:</p>
                            <pre><code>
                                $ ls
                                file1   file4    file21   file097
                                file2   file5    file32   file123
                                file3   file6    file43   file222

                                $ ls file2?
                                file21
                            </code></pre>

                            <p>[ ]</p>
                            <p>Els [ ] claudàtors (square brackets) permeten indicar un rang de valors a utilitzar.</p>
                            <pre><code>
                                $ ls
                                file1   file4    file21   file097
                                file2   file5    file32   file123
                                file3   file6    file43   file222

                                $ ls file[3-5]
                                file3   file4    file5
                            </code></pre>

                            <p>Aquest glob accepta caràcters especials, com per exemple indicar un rang excloent (amb el símbol !):</p>
                            <pre><code>
                                $ ls
                                file1   file4   file21   file097
                                file2   file5   file32   file123
                                file3   file6   file43   file222

                                $ ls file[!3-5]
                                file1 file2 file6 file21 file32 file43 file097 file123 file222
                            </code></pre>

                            <p>Els globs es poden combinar i utilitzar de manera conjunta, per arribar a construir</p>
                        </div>
                        <br/>
                        <h6 class="title_t103-7">Gestió de processos</h6>
                        <div class="text t103-7" style="display:none">
                            <p>En els sistemes GNU/Linux els processos es poden executar en dos plànols diferents: en primer pla i en segon pla. La diferència entre ells radica en el fet de poder tenir el control del shell durant l'execució del procés o no. La gestió de processos és una competència bàsica per a qualsevol administrador de sistemes, i es realitza amb algunes de les següents comandes.</p>
                            <h5>bg</h5>

                            <p>Permet moure un job que es troba aturat a executar-se en segon pla. Una altra manera de poder executar un procés en segon pla és insertant el carter &al final de la instrucció. Això només es pot fer a l'executar la comanda, una vegada en execució el procés (si s'ha fet en primer pla) s'ha d'aturar i tornar a iniciar amb bg. Aquesta operació només funciona sobre els treballs (jobs) executats enb el mateix pterminal.</p>
                            <h5>disown</h5>

                            <p>La comanda disownés una comanda interna de bash que permet desvincular jobs de la terminal on s'han executat. Per fer-ho utilitza el següent format:</p>
                            <pre><code>
                                $ disown %[JOB_NUMBER]  
                            </pre></code>

                            <h5>fg</h5>

                            <p>Permet modificar l'execució d'un job que es troba en segon pla i el passa a primer pla. Aquesta comanda només funciona amb els treballs (jobs) executats des de la mateixa terminal.</p>
                            <h5>jobs</h5>

                            <p>Tots els processos executats des d'un terminal tenen assignat un numero de treball (job) amb wl que es poden gestionar només en aquest entorn de treball</p>
                            <h5>kill</h5>

                            veure kill

                            <h5>killall</h5>

                            <p>La comnda killallpermet enviar les mateixes senyals que amb la comanda killperò indicant el nom del procés. S'ha de tenir present, però, que aquesta comanda encviarà el senyal indicat a tots els processos que tinguin el nom indicat. Algunes opcions útils de la comanda killall:</p>
                            <ul>
                                <li><strong>-I</strong> &RightArrow; ignora la distinció entre majúcules i minúscules</li>
                                <li><strong>-s</strong> &RightArrow; indica quin senyal es vol enviar</li>
                                <li><strong>-u</strong> &RightArrow; envia el senyal només als processos de l'usuari indicat</li>
                            </ul>
                            <h5>nice</h5>

                            <p>La comanda nicepermet indicar amb quina prioritat es llença un procés. Per defecte, en sistemes GNU/Linux els processos executats pels usuaris del sistema ho fan amb prioritat 0. Aquest és un valor central, doncs el rang de priotitats va des de -20 a +19. Per poder assignar un valor nice diferent al prefixat ho farem així:</p>
                            <pre><code>
                                    $ nice -n NUM PID  
                                </code></pre>

                            <h5>nohup</h5>

                            <p>La comanda nohuppermet executar una comanda en segon pla sense que depengui del terminal on s'ha executat. D'aquesta manera podem llençar processos que no necessitin un terminal obert per poder ser executats</p>

                            <h5>pidof</h5>

                            <p>La comanda pidofpermet veure el PID d'un procés:</p>
                            <pre><code>
                                    $ sleep 100 &  
                                    [1] 2825  
                                    $ pidof sleep  
                                    2825  
                                </code></pre>

                            <h5>pgrep</h5>

                            <p>La comanda pgrepens permet trobar el PID a partir d'una expressió regular donada. Algunes opcions que es poden utilitzar són:</p>
                            <ul>
                                <li><strong>-a:</strong> &RightArrow; mostra la comanda completa</li>
                                <li><strong>-c:</strong> &RightArrow; mostra la quantitat de processos trobats</li>
                                <li><strong>-d:</strong> &RightArrow; defineix el delimitador de camp entre els resultats trobats</li>
                                <li><strong>-l:</strong> &RightArrow; mostra els noms dels processos</li>
                                <li><strong>-n:</strong> &RightArrow; selecciona només el més antic dels processos trobats</li>
                                <li><strong>-o:</strong> &RightArrow; selecciona només el més nou dels processos trobats</li>
                                <li><strong>–signal</strong> &RightArrow; senyal que es vol enviar als processos trobats</li>
                            </ul>
                            <h5>pkill</h5>

                            <p>La comanda pkillens permet enviar senyals als processos a partir d'una expressió regular donada. Algunes opcions que es poden utilitzar són:</p>
                            <ul>
                                <li><strong>-a:</strong> &RightArrow; mostra la comanda completa</li>
                                <li><strong>-c:</strong> &RightArrow; mostra la quantitat de processos trobats</li>
                                <li><strong>-d:</strong> &RightArrow; defineix el delimitador de camp entre els resultats trobats</li>
                                <li><strong>-l:</strong> &RightArrow; mostra els noms dels processos</li>
                                <li><strong>-n:</strong> &RightArrow; selecciona només el més antic dels processos trobats</li>
                                <li><strong>-o:</strong> &RightArrow; selecciona només el més nou dels processos trobats</li>
                                <li><strong>–signal</strong> &RightArrow; senyal que es vol enviar als processos trobats</li>
                            </ul>
                            <h5>ps</h5>

                            veure ps

                            <h5>pstree</h5>

                            <p>La comanda pstreepermet poder veure tot el arbre de processos que es troben en execució en el sistema. Algunes opcions interessants són:</p>
                            <ul>
                                <li><strong>-n</strong> &RightArrow; ordena els processos d'una mateixa branca per PID</li>
                                <li><strong>-p</strong> &RightArrow; mostra el PID de cada procés</li>
                                <li><strong>-u</strong> &RightArrow; mostra el UID del procés</li>
                            </ul>
                            <h5>renice</h5>

                            <p>La comanda renicepermet modificar el valor nice de prioritat d'un procés que es troba en execució. Podem aplicar aquest nou valor nice de diferents maneres:</p>
                            <ul>
                                <li><strong>-n</strong> NUM &RightArrow; codi de prioritat nou</li>
                                <li><strong>-u</strong> USER &RightArrow; s'aplica el valor nice indicat a tots els processos d'un ususari</li>
                                <li><strong>-p</strong> PID &RightArrow; s'aplica el valor nice indicat al procés amb PID</li>
                            </ul>
                            <h5>time</h5>

                            <p>La comanda timemostra el temps que triga en executar-se una ordre. En realitat es poden veure 3 temps diferents</p>
                            <ul>
                                <li><strong>real</strong> &RightArrow; temps total d'execució</li>
                                <li><strong>user</strong> &RightArrow; temps d'execució de la comanda en espai d'usuari</li>
                                <li><strong>sys</strong> &RightArrow; temps d'execució de la comanda en espai de sistema</li>
                            </ul>
                            <h5>top</h5>

                            <p>La comanda top permet veure els processos en execució de forma continuada. La sortida de la comanda mostra una capcelera amb les següents dades:</p>
                            <pre><code>
                                    top - 16:43:56 up 7 days, 18 min,  1 user,  load average: 0,08, 0,27, 0,33  
                                    Tasks: 236 total,   1 running, 234 sleeping,   0 stopped,   1 zombie  
                                    %Cpu(s): 18,9 us,  5,9 sy,  0,1 ni, 72,3 id,  2,6 wa,  0,0 hi,  0,3 si,  0,0 st  
                                    KiB Mem :  3928216 total,   621808 free,  2073628 used,  1232780 buff/cache  
                                    KiB Swap:  3906556 total,  3045548 free,   861008 used.  1280656 avail Mem  
                                </code></pre>
                            <ul>
                                <li><strong>up</strong> Temps que porta el sistema iniciat</li>
                                <li><strong>users</strong> Numero usuaris loguejats a la màquina</li>
                                <li><strong>load average</strong> Càrrega mitjana del sistema en els últims 1, 5 i 15 minuts</li>
                                <li><strong>Tasks</strong> Estadístiques de les tasques</li>
                                <li><strong>Cpu(s)</strong> Estadístiques de la CPU</li>
                                <li><strong>Mem</strong> estadístiques de la memòria del sistema</li>
                                <li><strong>Swap</strong> Estadístiques de la memòria swap</li>
                            </ul>
                            <p>La comanda top permet mostrar multitud d'informació sobre els processos del sistema. La opció f permet configrar els camps de sortida de la comanda. Per poder fer aquesta configuració tenim una ajuda quan entrem a la pàgina de les opcions:</p>
                            <pre><code>
                                    Fields Management for window 1:Def, whose current sort field is %CPU  
                                    Navigate with Up/Dn, Right selects for move then &lt;Enter&gt; or Left commits,  
                                    'd' or &lt;Space&gt; toggles display, 's' sets sort.  Use 'q' or &lt;Esc&gt; to end!  
                                </code></pre>

                            <p>La tecla espai permet afegir o treure camps a la sortida, i les fletxes dreta i esquerra permeten ordenar els camps de visualització i la tecla q surt d'aquest menú A més del menú de configuració dels camps de visualització des de la pantalla principal de topes poden utilitzar altres opcions:</p>
                            <ul>
                                <li><strong>h</strong> &RightArrow; mostrar ajuda</li>
                                <li><strong>k</strong> &RightArrow; indica el PID del procés a finalitzar</li>
                                <li><strong>n</strong> &RightArrow; limita el numero de processos a mostrar</li>
                                <li><strong>i</strong> &RightArrow; mostra només els processos actius</li>
                                <li><strong>q</strong> &RightArrow; sortir de la comanda top</li>
                                <li><strong>z</strong> &RightArrow; mostrar colors</li>
                            </ul>
                            <h5>uptime</h5>

                            <p>La comanda uptimemostra quan temps porta el sistema en marxa</p>
                            <ul>
                                <li><strong>-p</strong> &RightArrow; mostra el temps en marxa en format "pretty"</li>
                                <li><strong>-s</strong> &RightArrow; mostra l'hora de l'últim inici</li>
                            </ul>
                        </div>
                        <br/>
                        <h6 class="title_t103-8">Kill</h6>
                        <div class="text t103-8" style="display:none">
                            <h5>kill</h5>

                            <p>La comanda kill serveix per enviar senyals a un procés.</p>

                            <p>Les senyals són un mecanisme bàsic de comunicació entre processos (IPC: Inter-Process Comunication) proporcionat pel sistema operatiu. En total es tracta d'un conjunt de 64 senyals representades amb un número o un nom simbòlic (SIG+Nom_del_senyal). Els processos decideixen quian acció realitzen amb cada un dels senyals, excepte amb 2 que són comuns per tots:</p>

                            <p>SIGKILL (9): permet finalitzar un procés de forma abrupta</p>
                            <p>SIGSTOP (19): permet aturar temporalment un procés</p>
                            <p>La resta de senyals que es poden utilitzar es poden veure si executem la comanda killamb la seva opció -l:</p>
                            <pre><code>
                                1) SIGHUP          2) SIGINT          3) SIGQUIT         4) SIGILL          5) SIGTRAP  
                                6) SIGABRT         7) SIGBUS          8) SIGFPE          9) SIGKILL        10) SIGUSR1  
                               11) SIGSEGV        12) SIGUSR2        13) SIGPIPE        14) SIGALRM        15) SIGTERM  
                               16) SIGSTKFLT      17) SIGCHLD        18) SIGCONT        19) SIGSTOP        20) SIGTSTP  
                               21) SIGTTIN        22) SIGTTOU        23) SIGURG         24) SIGXCPU        25) SIGXFSZ  
                               26) SIGVTALRM      27) SIGPROF        28) SIGWINCH       29) SIGIO          30) SIGPWR  
                               31) SIGSYS         34) SIGRTMIN       35) SIGRTMIN+1     36) SIGRTMIN+2     37) SIGRTMIN+3  
                               38) SIGRTMIN+4     39) SIGRTMIN+5     40) SIGRTMIN+6     41) SIGRTMIN+7     42) SIGRTMIN+8  
                               43) SIGRTMIN+9     44) SIGRTMIN+10    45) SIGRTMIN+11    46) SIGRTMIN+12    47) SIGRTMIN+13  
                               48) SIGRTMIN+14    49) SIGRTMIN+15    50) SIGRTMAX-14    51) SIGRTMAX-13    52) SIGRTMAX-12  
                               53) SIGRTMAX-11    54) SIGRTMAX-10    55) SIGRTMAX-9     56) SIGRTMAX-8     57) SIGRTMAX-7  
                               58) SIGRTMAX-6     59) SIGRTMAX-5     60) SIGRTMAX-4     61) SIGRTMAX-3     62) SIGRTMAX-2  
                               63) SIGRTMAX-1     64) SIGRTMAX  
                            </code></pre>

                            <p>D'entre totes aquestes senyals val la pena comentar algunes de les més comunes:</p>
                            <pre><code>
                                SIGINT (2) –> senyal d'interrupció d'un procés (Ctrl+c)
                                SIGKILL (9) –> senyal per eliminar de forma inmediata i incondicional un procés
                                SIGTERM (15) –> senyal per defecte. Finalitzar un procés de forma controlada
                                SIGCONT (18) –> senyal de reanudació d'un procés aturat (també amb fg o bg)
                                SIGSTOP (19) –> senyal d'aturada temporal d'un procés (Ctrl+z)
                            </code></pre>

                            <p>La forma d'enviar un senyal a un procés és la següent:</p>
                            <pre><code>
                                $ sleep -[SIG] PID  
                            </code></pre>
                            <p>
                                Veiem un exemple. Generem un procés sleep que serà pausat:
                            </p>
                            <pre><code>
                                $ sleep 100 &  
                                [1] 3316  
                            </code></pre>
                            <pre><code>
                                $ ps -o pid,ruser,stat,comm  
                                 PID RUSER    STAT COMMAND  
                                 347 xcampos2 Ss   bash  
                                3316 xcampos2 S    sleep  
                                3319 xcampos2 R+   ps  

                                $ kill -19 3316  

                                $ ps -o pid,ruser,stat,comm  
                                 PID RUSER    STAT COMMAND  
                                 347 xcampos2 Ss   bash  
                                3316 xcampos2 T    sleep  
                                3320 xcampos2 R+   ps  
                            </code></pre>
                        </div>
                        <br/>
                        <h6 class="title_t103-9">ps</h6>
                        <div class="text t103-9" style="display:none">
                            <p>La comanda pspresenta per pantalla tota una llista dels processos actuals del sistema. És una comanda de consulta, i ens permet veure diferents informacions en funció de les opcions que utilitzem.</p>

                            <p>Permet la utilització d'opcions tant en format UNIX com BSD. Amb totes 2 podem veure la mteixa informació, però no sempre coincideixen les opcions que ho permeten.</p>
                            <h5>UNIX</h5>
                            <ul>
                                <li><strong>-a</strong> &RightArrow; mostra els processos associats a una tty
                                <li><strong>-e</strong> &RightArrow; genera una llista amb informació de tots els processos
                                <li><strong>-f</strong> &RightArrow; mostra un llistat extens de camps amb informació sobre els processos
                                <li><strong>-l</strong> &RightArrow; mostra una llista llarga d'informació dels processos
                                <li><strong>-o</strong> &RightArrow; defineix els camps a mostrar
                                <li><strong>-u</strong> &RightArrow; permet indicar els processos associats a un usuari
                            </ul>
                            <h5>BSD</h5>
                            <ul>
                                <li><strong>a</strong> &RightArrow; mostra tots els processos associats al terminal on s'executa (no només els de l'usuari)
                                <li><strong>u</strong> &RightArrow; mostra informació orientada a l'usuari
                                <li><strong>x</strong> &RightArrow; combinat amb -a mostra tots els processos, associats o no al terminal on s'executa
                            </ul>
                            <p>La opció -o permet modificar les capceleres dels camps seleccionats indicant-los de la següent manera:</p>
                            <pre><code>
                                $ ps -o comm='instrucció' -o ruser='usuari' -o pid='id procés'  
                                instrucció      usuari    id procés  
                                bash            xcampos2        347  
                                ps              xcampos2        933  
                            </code></pre>

                            <p>Són molts els camps d'informació que pot arribar a mostrar la comanda ps. Tots es troben definits al man de la comanda. Alguns dels més habituals (els que mostra la comanda ps aux) són els següents:</p>
                            <ul>
                                <li><strong>USER:</strong> usuari que executa el procés</li>
                                <li><strong>PID:</strong> ID del procés</li>
                                <li><strong>%CPU:</strong> percentatge de temps en el que el procés ha estat en execució (cputime/realtime)</li>
                                <li><strong>%MEM:</strong> percentatge de memòria física utilitzada</li>
                                <li><strong>VSZ:</strong> memòria virtual del procés (inclou tota la memòria a la que el procés pot accedir)</li>
                                <li><strong>RSS:</strong> memòria física que està utilitzant un procés (inclou la memòria de les llibreries compartides)</li>
                                <li><strong>TTY:</strong> terminal que controla el procés (tty|pts)</li>
                                <li><strong>STAT:</strong> codi d'estat del procés</li>
                                <li><strong>STIME:</strong> data d'inici del procés</li>
                                <li><strong>TIME:</strong> temps de CPU acumulat</li>
                                <li><strong>COMMAND:</strong> comanda amb tots els seus arguments</li>
                            </ul>
                            <p>El camp STAT, que mostra el codi d'estat d'un procés, pot rebre els següents valors:</p>
                            <ul>
                                <li><strong>D:</strong> suspès no interrumpible (generalment en espera d'E/S)</li>
                                <li><strong>R:</strong> preparat per ser executat</li>
                                <li><strong>S:</strong> dormit (esperant que es completi un event)</li>
                                <li><strong>T:</strong> aturat o traçat</li>
                                <li><strong>X:</strong> mort (no s'ha de veure mai)</li>
                                <li><strong>Z:</strong> zombie (terminat però no reclamat pel procés pare)</li>
                            </ul>
                            <p>Els processos marcats amb la S tenen, a més, un segon indicador</p>
                            <ul>
                                <li><strong><:</strong> alta prioritat</li>
                                <li><strong>N:</strong> baixa prioritat</li>
                                <li><strong>L:</strong> té pàgines bloquejades en memòria</li>
                                <li><strong>s:</strong> és un líder de sessió (es tracta d'un procés que ha iniciat una nova sessió)</li>
                                <li><strong>l:</strong> es multithread</li>
                                <li><strong>+:</strong> està en el grup de processos en primer pla</li>
                            </ul>
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t104">Topic 104: Devices, Linux Filesystems, Filesystem Hierarchy Standard</h5>
                    <div class="topic t104" style="display:none">
                        <br/>
                        <h6 class="title_t104-1">Sistema de fitxers</h6>
                        <div class="text t104-1" style="display:none">
                            <p>Un sistema de fitxers defineix una estructura per l'espai d'emmagatzemament d'un dispositiu. Aquesta estructura indica de quina manera s'identifiquen i guarden les dades que el dispositiu conté.</p>
                            <h5>Conceptes generals</h5>

                            <h5>inodes</h5>

                            <p>Un inodeés una estructura de dades que emmagatzema informació bàsica (metadades) d'un fitxer o qualsevol altre objecte d'un sistema de fitxers. És un complement essencial en un sistema de fitxers lògic. Quan es crea un sistema de fitxers es genera també una estructura de dades per matenir la informació del sistema. A cada fitxer del sistema li correspon un inode, i cada inode s'identifica amb el seu número de inode (i-number). Aquest inode es pot consultar amb la comanda:</p>
                            <pre><code>
                                $ ls -i  
                                624895   file1      752220   file2  
                            </code></pre>

                            <p>La informació que conté un inode està definida en l'estàndard POSIX i és la següent:</p>
                            <ul>
                                <li>Mida del fitxer</li>
                                <li>Propietari i grup propietari</li>
                                <li>Permisos d'accés al fitxer</li>
                                <li>Tipus de fitxer</li>
                                <li>Timestamps</li>
                                <li>Comptador del número d'enllaços forts</li>
                                <li>Punters als blocs de disc amb el contingut del fitxer</li>
                            </ul>

                            <p>És important observar que el inode no conté el nom del fitxer. Són els directoria qui contenen aquests noms. De fet, un directori de UNIX és una estructura de llista on cada element és el nom del fitxer i el seu inode.</p>

                            <p>El número de inodes és limitat (típicament un 1% del disc) i defineix el número màxim de fitxers que pot tenir el sistema. Aquests inodes es guarden en una taula a la que es pot accedir si es coneix el número de inode del fitxer indicat.</p>
                            <h6>Accés a les dades</h6>

                            <p>Quan volem accedir a la informació d'un fitxer concret els pasos són els següents:</p>
                            <ul>
                                <li>S'accedeix al dorectori arrel (/) que té un inode fixe (2)</li>
                                <li>Es busca dins de la llista de noms de l'arrel el següent directori</li>
                                <li>Es realitza la mateixa operació i així successivament per tots els nivells de directoris necessaris</li>
                                <li>Quan s'obté l'inode del fitxer que es busca el sistema accedeix a les posicions del disc que indica el inode</li>
                            </ul>

                            <h5>journaling</h5>

                            <p>El journaling és un mecanisme pel qual un sistema informàtic pot implementar transaccions. També se'l coneix com registre de diari. El funcionament de journaling es basa en guardar en un registre les modiciacions que es realitzen en el sistema de fitxers per tal de poder restaurar el sistema en cas d'inconsistència. Això permet no haver d'executar un fsckcada vegada que el sistema s'inicia. Els modes de funcionament del journaling són:</p>

                            <table>
                                <tr>
                                    <td>Journal</td>
                                    <td>es guarden les modificacions de les metadades i les dades al registre. Una vegada fet això, es modifiquen les dades a disc i es marquen els canvis com fets en el regitre (commit). És un mode de treball més lent però més segur, i minimitza la possibilitat de pèrdua de dades.</td>
                                </tr>
                                <tr>
                                    <td>Ordered</td>
                                    <td>només es guarden les modificacions a les metadades, i es fa abans del commit. És la opció per defecte en sistemes ext3 i minimitza els casos de corrupció</td>
                                </tr>
                                <tr>
                                    <td>Writeback</td>
                                    <td>només es guarden les modificacions a les metadades. No hi ha reordenament de les operacions d'escriptura a disc, pel que pot ser que es faci el registre després del commit. Això el converteix en el mode més ràpid però també el menys robust</td>
                                </tr>
                            </table>


                            <h5>superbloc</h5>

                            <p>El superbloc conté dades vitals per al correcte funcionament del sistema de fitxers. Si es perd aleshores perdem tot el sistema de fitxers. Entre les dades que conté podem trobar:</p>
                            <ul>
                                <li>Tipus de sistema de fitxers</li>
                                <li>Mida del sistema de fitxers, dels blocs i dels inodes</li>
                                <li>Numero de blocs i de inodes totals i disponibles</li>
                                <li>Estat del sistema (clean|dirty)</li>
                                <li>Informació de la resta d'estructures de metadades del sistema</li>
                            </ul>

                            <p>Els sistemes ext mantenen còpies de seguretat del superbloc repartides pel disc (en cada grup de blocs hi ha una còpia). Es poden consultar amb:</p>
                            <pre><code>
                                # dumpe2fs /dev/sda1 | grep -i superblock  
                                Primary superblock at 0, Group descriptors at 1-1  
                                Backup superblock at 32768, Group descriptors at 32769-32769  
                                Backup superblock at 98304, Group descriptors at 98305-98305  
                                Backup superblock at 163840, Group descriptors at 163841-163841  
                                 ...  
                            </code></pre>

                            <h5>Sistemes ext</h5>

                            <h5>ext2</h5>

                            <p>ext2 és el sistema de fitxers tradicional de sistemes GNU/Linux. No disposa de registre de transaccions diari i utilitza una taula on guarda tots els inodes del sistema. Utilitza una caché en memòria i escriu les dades al disc de manera asíncrona. Això pot provocar una possible pèrdua de dades en el cap d'una apagada no controlada. En el cas que això passi, el kernel marca el sistema de fitxers com dirty(dades pendents de ser gravades). Existeixen 2 casos en els que això es pot produir:</p>

                            <ul>
                                <li>La cache tenia dades pendents d'escriure</li>
                                <li>La cache estava escrivint</li>
                            </ul>
                            <p>En el primer dels casos les dades es perden. En el segon es poden arribar a recuperar amb un fsck. De fet els sistemes ext2 executen un fsck a l'inici del sistema per tal de preveure aquestes situacions. Si no hi ha hagut cap incident en l'apagada del sistema el kernel marca el sistema de fitxers com clean. Els sistemes de fitxers ext2 tenen 3 zones:</p>
                            <ul>
                                <li>Superbloc: bloc especial que conté informació de la resta de zones del disc</li>
                                <li>Inodes:</li>
                                <li>Blocs de dades: normalment en blocs de 4kB</li>
                            </ul>
                            <p>Els blocs de dades s'estructuren en grups de blocs, i el kernel del sistema intenta que tots els fitxers tinguin els seus blocs en el mateix grup de blocs. L'estructura del disc és com la que es mostra a continuació:</p>

                            <p>La informació que conté cada grup de bloc és:</p>

                            <ul>
                                <li>Una còpia del superbloc del sistema de fitxers</li>
                                <li>Una còpia dels descriptors dels grups de blocs que existeixen</li>
                                <li>Un mapa de bits dels blocs del grup que estan lliures</li>
                                <li>Un mapa de bits dels inodes del grup que estan lliures</li>
                                <li>La taula d'inodes del grup de blocs</li>
                                <li>Blocs de dades</li>
                            </ul>
                            <p>Tot i que hi ha una còpia del superbloc en tots els grups de blocs del sistema el kernel només utilitza el del primer grup. La resta serveien per poder restaurar el sistema en cas de inconsistència. Per poder veure quants grups de blocs hi ha i com s'organitzen es poden utilitzar les comandes fscki tune2fs</p>

                            <h5>ext3</h5>

                            <p>És la evolució del sistema de fitxers ext2 i un dels més estesos entre els equips amb sistemes GNU/Linux. Tot i no ser el sistema de fitxers més ràpid permet passar un sistema ext2 a ext3 sense perdre les dades. A més, ext3 no consumeix tants recursos de CPU com altres sistemes.</p>

                            <p>Les millores que ofereix ext3 respecte ext2 són les següents:</p>
                            <ul>
                                <li>Incorpora el journaling</li>
                                <li>Creixement del sistema de fitxer online</li>
                                <li>L'estructura de dades és Htree (versió especialitzada dels arbres B)</li>
                            </ul>
                            <h5>ext4</h5>

                            <p>Següent pas dins de la família de sistemes ext. Aporta una sèrie de millores sobre ext3, i per volums de grans dimensions és el sistema de fitxers més adient. Les seves característiques més rellevants són:</p>
                            <strong>Sistemes d'arxius més grans</strong>

                            <p>Els sistemes ext4 utilitzen 48 bits per adreçar els blocs de dades del disc. Això permet ampliar la mida del sistema de fitxers fins a 1EB, on es poden emmagatzemar fitxers de fins a 16TB. A més ext4 amplia el nivell de profunditat de subdirectoris de 32000 a 64000.</p>
                            <strong>Extents</strong>

                            <p>El sistema d'arxius ext4 treballa amb seqüencies de blocs contigus, anomenades extents. La idea és substituir l'esquema tradicional dels sistemes ext2|ext3. Aquests utilitzen un mapa de memòria d'espai lliure per assignar on es guarden els fitxers del sistema. Aquest mecanisme no és ni ràpid ni fàcilment escalable, però funciona molt bé amb fitxers petits. En canvi, amb fitxers grans la cosa es complica. Els sistemes ext4 utilitzen seqüencies de blocs contigus adreçats de forma única amb un inode. D'aquesta manera podem fer referència a espais de disc més grans amb un únic punter.</p>
                            <strong>Assignació persistent d'espai a disc</strong>

                            <p>ext4 incorpora una nova trucada al sitema "preallocate ()". Això permet reservar espai en disc per a un iftxer que es preveu ha de crèixer. A més, amb aquesta crida al sistema és molt probable que l'espai reservat sigui contigu al que ara ocupa. Fins ara això només era possible omplir el fitxer en el disc amb zeros en el moment de la seva creació.</p>
                            <strong>Assignació retardada d'espai de disc</strong>

                            <p>Una altra millora que incorpora ext4 és una tècnica anomenada "Allocate-on-flush" (reserva de memòria retardada). Consisteix a retardar la reserva de blocs de memòria fins al moment previ en que es fa la escriptura en disc. Això permet millorar el rendiment i reduir la fragmentació del disc.</p>
                            <strong>Journal checksumming</strong>

                            <p>ext4 utilitzar checksums per millorar la fiabilitat del journal, un dels fitxers més utilitzats en el disc. Aquesta funció té un efecte beneficiós ja que permet evitar una lectura/escriptura de disc durant el procés de registre al journal.</p>
                            <strong>Assignació multibloc</strong>

                            <p>L'assignació de blocs a un fitxer en els sistemes ext3 es fa d'un en un. Els sistemes ext4, en canvi, permeten fer múltiples assignacions de blocs en una única operació. Això ajuda a reduïr la fragmentació quan s'intenta triar blocs contigus en el disc</p>
                            <strong>Timestamps millorats</strong>

                            <p>Amb el pas del temps el maquinari cada vegada és més ràpid. Això, sumat a l'increment d'ús de sistemes GNU/Linux en aplicacions crítiques, fa que la granularitat dels timestamps basats en segons es fa insuficient. Per això ext4 implementa, des de la versió 2.26.23 del nucli, uns timestamps basats en nanosegons. A banda d'això s'han afegit 2 bits de timestamp estès per retardar el problema de l'any 2038</p>

                            <strong>Altres sistemes de fitxers</strong>

                            <h5>XFS</h5>

                            <p>XFSés un sistema de fitxers d'alt rendiment, que treballa amb 64 bits i que implementa journaling. Està inclós des de la versió de kernel 2.4.25 i actualment és el sistema de fitxers per defecte en sistemes RedHat.</p>
                            <ul>
                                <li>Utilització d'arbres B i extents</li>
                                <li>Disc dividit en grups d'assignació (cada grup gestiona els seus blocs i inodes)</li>
                                <li>El journaling registra metadades d'operacions lògiques</li>
                                <li>Assignació diferida i dinàmica de inodes</li>
                            </ul>
                            <h5>ReiserFS</h5>

                            <p>ReiserFSés un sistema de fitxers de propòsit general, inclòs en sistemes GNU/Linux des de la versió de kernel 2.4.1. ReiserFS guarda les metadades dels fitxers, les entrades de directori i la llista d'inodes en un únic arbre-B amb identificador únic. Aquest disseny permet evitar operacions lineals de cerca o modificació que si es produeixen en altres sistemes com ext2Algunes de les característiques de ReiserFS:</p>
                            <ul>
                                <li>Journaling: ReiserFS va ser el primer sistema de fitxers en incorporar aquesta funcionalitat</li>
                                <li>Reparticionat del disc en calent: es pot redimensionar un sistema de fitxers ReiserFS que està muntat.</li>
                                <li>Tail packing: esquema per reduïr fragmentació interna</li>
                                <li>És un sistema de fitxers especialment indicat per sistems amb molts arxius petits, de menys de 4KB.</li>
                            </ul>
                            <h5>Btrfs</h5>

                            <p>Btrfsés un sistema de fitxers desenvolupat per Oracle i que pretén ser el substitut de ext4, oferint resposta a moltes de les limitacions d'aquest. Actualment el sistema ja es considera estable, tot i que està en contínua evolució. Això fa que si es treballa amb Btrfs sigui recomanable tenir sempre la última versió estable del kernel. Algunes de les seves característiques del sistema són:</p>
                            <ul>
                                <li>Empaquetat eficient en espais petits</li>
                                <li>Assignació dinàmica de inodes</li>
                                <li>Snapshots</li>
                                <li>Subvolums (arrels del sistema de fitxers internes separades)</li>
                                <li>Integració con device-mapper per suportar múltiples dispositius</li>
                                <li>Comprovació del sistema de fitxers en calent</li>
                                <li>Còpies de seguretat incrementals i mirroring</li>
                                <li>Mode optimitzat per dispositius SSD</li>
                            </ul>
                        </div>
                        <br/>
                        <h6 class="title_t104-2">Eines de gestió dels sistemes de fitxers</h6>
                        <div class="text t104-2" style="display:none">
                            <h5>debugfs</h5>

                            <p>Segons el seu manual, debugfsconsisteix en un depurador interactiu de sistemes de fitxers de la família ext. Ens permet consultar dades del sistema de fitxers en temps real. La forma d'executar-lo és la següent:</p>
                            <pre><code>
                                # debugfs  
                                debugfs 1.42.12 (29-Aug-2014)  
                                debugfs  
                            </code></pre>

                            <p>Es tracta d'una comanda interactiva, pel que es queda esperant que li indiquem quina acció volem realitzar. Amb help podem veure totes les opcions. Destaquem les més rellevants:</p>
                            <ul>
                                <li>blocks –> mostra els blocs utilitzats per un inode</li>
                                <li>close_filesys,close –> tanca un sistema de fitxers</li>
                                <li>dirty_filesys,dirty –> marca el sistema de fitxers amb estat dirty</li>
                                <li>filefrag –> mostra informació sobre la fragmentació d'un inode</li>
                                <li>kill_file –> desassigna un inode i els seus blocs</li>
                                <li>list_deleted_inodes,lsdel –> mostra els inodes esborrats</li>
                                <li>open_filesys,open –> obre un sistema de fitxers</li>
                                <li>show_inode_info,stat –> mostra informació d'un inode</li>
                                <li>show_super_stats,stats –> mostra estadístiques del superbloc del sistema</li>
                                <li>undelete,undel –> recupera un fitxer eliminat</li>
                                <li>write –> escriure un fitxer en una ubicació indicada</li>
                            </ul>

                            <h5>dumpe2fs</h5>

                            <p>La comanda dumpe2fspermet obtenir informació dels sistemes de fitxers de la família ext:</p>
                            <pre><code>
                                # dumpe2fs /dev/sdb  
                                Filesystem volume name:   &lt;none&gt;
                                Last mounted on:          &lt;not available&gt;
                                Filesystem UUID:          7f5a86b3-89b8-434c-b2cb-c66b971b247e
                                Filesystem magic number:  0xEF53
                                Filesystem revision #:    1 (dynamic)
                                Filesystem features:      has_journal ext_attr resize_inode dir_index filetype needs_recovery sparse_super large_file
                                Filesystem flags:         signed_directory_hash 
                                Default mount options:    (none)
                                Filesystem state:         clean
                                Errors behavior:          Continue
                                Filesystem OS type:       Linux
                                Inode count:              7028736
                                Block count:              28103701
                                Reserved block count:     1405185
                                Free blocks:              7837674
                                Free inodes:              6577674
                                First block:              0
                                Block size:               4096
                                Fragment size:            4096
                                Reserved GDT blocks:      1017
                                Blocks per group:         32768
                                Fragments per group:      32768
                                Inodes per group:         8192
                                Inode blocks per group:   512
                                Filesystem created:       Mon Jul 27 09:30:06 2009
                                Last mount time:          Sun Nov 15 07:36:13 2009
                                Last write time:          Mon Nov  2 11:36:21 2009
                                Mount count:              15
                                Maximum mount count:      20
                                Last checked:             Mon Nov  2 09:05:39 2009
                                Check interval:           15552000 (6 months)
                                Next check after:         Sat May  1 10:05:39 2010
                                Reserved blocks uid:      0 (user root)
                                Reserved blocks gid:      0 (group root)
                                First inode:              11
                                Inode size:	          256
                                Required extra isize:     28
                                Desired extra isize:      28
                                Journal inode:            8
                                First orphan inode:       4120686
                                Default directory hash:   half_md4
                                Directory Hash Seed:      2bcad210-d6a4-4822-bdc5-42619f9fc678
                                Journal backup:           inode blocks
                                Mida del registre de canvis:              128M

                                Grup 0: (blocs 0-32767)
                                 superbloc Primari a 0, descriptors de grup a 1-7
                                  Reserved GDT blocks at 8-1024
                                 Mapa de bits del bloc a 1025 (+1025), mapa de bits del node-i a 1026 (+1026)
                                  taula de nodes-i a 1027-1538 (+1027)
                                  0 blocs lliures, 8161 nodes-i lliures, 3 directoris 
                                  Blocs liures: 
                                  Nodes-i lliures: 13-16, 36-8192
                                Grup 1: (blocs 32768-65535)
                                 superbloc Còpia de seguretat a 32768, descriptors de grup a 32769-32775
                                  Reserved GDT blocks at 32776-33792
                                 Mapa de bits del bloc a 33793 (+1025), mapa de bits del node-i a 33794 (+1026)
                                  taula de nodes-i a 33795-34306 (+1027)
                                  0 blocs lliures, 8170 nodes-i lliures, 1 directoris 
                                  Blocs liures: 
                                  Nodes-i lliures: 8215-16384
                                Grup 2: (blocs 65536-98303)
                                 Mapa de bits del bloc a 65536 (+0), mapa de bits del node-i a 65537 (+1)
                                  taula de nodes-i a 65538-66049 (+2)
                                  0 blocs lliures, 8168 nodes-i lliures, 2 directoris 
                                  Blocs liures: 
                                  Nodes-i lliures: 16409-24576
                                ...  
                            </code></pre>

                            <p>Com podem veure ens mostra molta informació sobre el sistema de fitxers. Entre tota aquesta informació alguns dels valors més rellevants són els següents que es poden filtrar amb grep:</p>

                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep state          --> estat en què es troba el sistema de fitxers
                                dumpe2fs 1.41.9 (22-Aug-2009)           
                                Filesystem state:         clean         
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep UUID           --> identificació de la partició
                                dumpe2fs 1.41.9 (22-Aug-2009)
                                Filesystem UUID:          7f5a86b3-89b8-434c-b2cb-c66b971b247e
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep name           --> etiqueta de la partició
                                dumpe2fs 1.41.9 (22-Aug-2009)  
                                Filesystem volume name:   &lt;none>  
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep created        --> data de creació del sistema de fitxers
                                dumpe2fs 1.41.9 (22-Aug-2009)
                                Filesystem created:       Mon Jul 27 09:30:06 2009  
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep Last           --> últim cop que el sistema es va muntar, comprovar, etc
                                dumpe2fs 1.41.9 (22-Aug-2009)  
                                Last mounted on:          &lt;not available&gt;  
                                Last mount time:          Sun Nov 15 07:36:13 2009  
                                Last write time:          Mon Nov  2 11:36:21 2009  
                                Last checked:             Mon Nov  2 09:05:39 2009  
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep Next           --> data de la propera comprovació del sistema
                                dumpe2fs 1.41.9 (22-Aug-2009)  
                                Next check after:         Sat May  1 10:05:39 2010 
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep -i "Mount count" --> cada quants muntatges es comprova el sistema i quants en porta
                                dumpe2fs 1.41.9 (22-Aug-2009)
                                Mount count:              15
                                Maximum mount count:      20  
                            </code></pre>
                            <pre><code>
                                $ sudo dumpe2fs /dev/sda1 | grep 'Block size'   --> conèixer la mida de bloc
                                dumpe2fs 1.41.9 (22-Aug-2009)  
                                Block size:               4096  
                            </code></pre>

                            <p>També podem fer ús d'algunes de les seves opcions més comuns:</p>
                            <ul>
                                <li>-b: mostra els blocs marcats com dolents</li>
                                <li>-g: mostra informació dels descriptors dels grups (veure man per més detall)</li>
                                <li>-h: mostra només informació dels superblocs</li>
                            </ul>

                            <h5>fsck</h5>

                            <p>La comanda fsckés una eina que ens permet comprovar i reparar sistemes de fitxers GNU/Linux. La sintaxi de l'ordre es:</p>
                            <pre><code>
                                # fsck [OPTIONS] [device] [fs-specific-options]  
                                * [OPTIONS]:     opcions de fsck
                                * [device]:      nom de dispositiu que es vol comprovar|reparar
                                * [fs-spec-op]:  opcions concretes del sistema de fitxers que es vol comprovar|reparar
                            </pre></code>

                            <p>fsck conté multitud d'opcions, totes descrites en el seu manual. Veiem aquí un recull de les més importants:</p>
                            <ul>
                                <li><strong>-A: </strong>intenta fer un fsck de tots els dispositius configurats a /etc/fstab</li>
                                <li><strong>-b: </strong>Enlloc d'utilitzar el superbloc principal utilitza el que hi ha en el bloc indicat</li>
                                <li><strong>-C: </strong>mostra una barra de progrés</li>
                                <li><strong>-f: </strong>forçar la comprovació</li>
                                <li><strong>-M: </strong>no comprova els sistemes de fitxers muntats</li>
                                <li><strong>-N: </strong>no executa l'ordre, només mostra les accions a executar</li>
                                <li><strong>-R: </strong>si es combina amb -A, no comprova el root filesystem</li>
                                <li><strong>-t: </strong>indica el sistema de fitxers (fstype) del dispositiu</li>
                                <li><strong>-V: </strong>opció verbose</li>
                                <li><strong>-y: </strong>força a "yes" les possibles preguntes del fsck (no recomanat!)</li>
                            </ul>

                            <p>Els codis de retorn de la comanda fsck són:</p>
                            <table>
                                <tr>
                                    <td>0</td>
                                    <td>No errors</td>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>Filesystem errors corrected</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>System should be rebooted</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>Filesystem errors left uncorrected</td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td>Operational error</td>
                                </tr>
                                <tr>
                                    <td>16</td>
                                    <td>Usage or syntax error</td>
                                </tr>
                                <tr>
                                    <td>32</td>
                                    <td>Checking canceled by user request</td>
                                </tr>
                                <tr>
                                    <td>128</td>
                                    <td>Shared-library error</td>
                                </tr>
                            </table>

                            <p><strong>NOTA:</strong> Mai s'ha d'utilitzar cap comanda tipus fsck sobre un sistema de fitxers muntat. Si heu de fer un fsck sobre la partició principal del sistema operatiu i no la podeu desmuntar, haureu d'utilitzar un LIVE o accedir-hi des de un altre sistema operatiu si el vostre sistema és DUAL. És recomanable que si voleu fer proves amb fsck i la resta de programes d'aquest article ho feu des de una Live, un màquina virtual o un sistema on no us importi perdre dades.</p>

                            <h5>e2fsck</h5>

                            <p>La comanda e2fsckés la variant de fsck per a sistemes de fitxers ext2|ext3|ext4.</p>
                            <ul>
                                <li><strong>-b:</strong> permet indicar el número de bloc des del que s'ha de llegir el superbloc</li>
                                <li><strong>-j:</strong> indica quin és el fitxer de journal per aquest sistema</li>
                                <li><strong>-n:</strong> executa la reparació en mode read-only. Si hi ha qualsevol pregunta que necessiti confirmació es contesta com 'no'</li>
                                <li><strong>-p:</strong> fixa qualsevol errada del sistema de fitxers de forma automàtica sense la necessitat d'intervenció de l'administrador</li>
                                <li><strong>-y:</strong> executa la reparació del sistema de fitxers i respon afirmativament a qualsevol pregunta</li>
                            </ul>
                            <h5>tune2fs</h5>

                            <p>tune2fspermet modificar alguns dels paràmetres del sistema de fitxers en sistemes ext2|ext3|ext4. Algunes de les opcions més interessants són:</p>
                            <ul>
                                <li><strong>-c: </strong>nombre màxim de muntatges entre comprovacions amb fsck
                                <li><strong>-C: </strong>estableix el nombre de muntatges des de la última comprovació
                                <li><strong>-i: </strong>establir l'interval de comprovacions per un temps determinat (d|m|w)
                                <li><strong>-j: </strong>afegeix un registre de journaling al sistema de fitxers
                                <li><strong>-l: </strong>consultar els paràmetres de la partició (similar a dumpe2fs
                                <li><strong>-L: </strong>definir l'etiqueta de la partició
                                <li><strong>-m: </strong>canviar el percentatge de blocs reservats per a root
                                <li><strong>-T: </strong>modificar la data de l'última comprovació
                                <li><strong>-U: </strong>definir el UUID de la partició
                            </ul>
                            <h5>XFS tools</h5>

                            <p>Els sistemes de fitxers XFStenen un conjunt de comandes per realitzar totes aquestes operacions sobre els sistemes de fitxers. Venen dins del paquet xfsprogsque es pot trobar als repositoris oficials.</p>
                            <strong>xfs_admin</strong>

                            <p>Similar a tune2fs, ens permet modificar paràmetres d'un sistema de fitxers XFS</p>
                            <strong>xfs_info</strong>

                            <p>Similar a dumpe2fs, ens permet veure informació relacionada amb el sistema de fitxers. Per poder utilitzar-la el sistema ha d'estar muntat</p>
                            <strong>xfs_metaddump</strong>

                            <p>Similar a debugfs, però pensada només per desenvolupadors experts de XFS. Permet fer un bolcat de les metadades del sistema de fitxers a un arxiu. Cal que el sistema no estigui muntat.</p>
                            <strong>xfs_repair</strong>

                            <p>Similar a fsck, permet fer una reparació del sistema de fitxers</p>
                        </div>
                        <br/>
                        <h6 class="title_t104-3">Muntatge dels sistemes de fitxers</h6>
                        <div class="text t104-3" style="display:none">
                            <p>Una vegada hem particionat i estructurat amb els sistemes de fitxers l'espai del disc, estem en disposició de poder fer-ne ús. Per poder fer-ho necessitem que aquestes particions es muntin dins del sistema, ja sigui de forma puntual per un ús concret o de forma permanent per formar part del sistema operatiu.</p>
                            <h5>mount</h5>

                            <p>La comanda que ens permet poder fer ús d'aquests sistemes de fitxers és l'ordre mount. Per la de poder utlitzar-la, mount necessita que li indiquem el nom del dispositiu que volem muntar i sobre quin directori del sistema (punt de muntatge):</p>
                            <pre><code>
                                # mount /dev/sda3 /mnt  
                            </code></pre>


                            <p>Punt de muntatge: Els sistemes GNU/Linux treballen amb un sistema de directoris lògic, el que implica que hi ha una única arrel (/) de l'arbre del directori sobre la qual es troben totes les unitats d'emmagatzemament que el sistema utilitza. Així doncs, les diferents particions i unitat extraibles estaran integrades dins de l'arbre únic de directoris del sistema, a través dels punts de muntatge. Aquests no són res més que directoris dins del sistema, però que enlloc d'utilitzar-se per guardar dades s'utilitzen per donar accés a una partició diferent que conté unes determinades dades</p>


                            <p>Pel que fa a les opcions de la comanda mount, cal tenir clar i no confondre que existeixen diferents modalitats d'opcions i que de vegades es poden confondre o no quedar clares:</p>
                            <ul>
                                <li><strong>COMMAND OPTIONS:</strong> opcions d'utlització de la comanda</li>
                                <li><strong>FS INDEPENDENT MOUNT OPTIONS:</strong> opcions de muntatge de qualsevol sistema de fitxers</li>
                                <li><strong>FS SPECIFIC MOUNT OPTIONS:</strong> opcions de muntatge de cada sistema de fitxers en particular</li>
                            </ul>
                            <h5>COMMAND OPTIONS</h5>

                            <p>La comanda mount té una diversitat d'opcions que ens permeten gestionar els dispositius de diferents formes:</p>
                            <ul>
                                <li><strong>-a:</strong> munta tots els dipositius indicats en el fitxer fstab</li>
                                <li><strong>-F:</strong> (combinat amb -a) realitza les operacions de muntatge en processos paral·lels (més ràpid però desordenat)</li>
                                <li><strong>-l:</strong> mostra les etiquetes de les particions del disc que estan muntades</li>
                                <li><strong>-L:</strong> muntar una partició en el seu punt de muntatge (ha d'existir l'entrada a fstab) indicant la seva etiqueta</li>
                                <li><strong>-M:</strong> canviar el punt de muntatge d'un dispositiu en calent</li>
                                <li><strong>-o:</strong> permet utilitzar les opcions de muntatges indicades, separades per coma</li>
                                <li><strong>-O:</strong> (combinat amb -a) permet indicar que els sistemes de fitxers amb les opcions especificades no s'han de muntar</li>
                                <li><strong>-t:</strong> indicar el sistema de fitxers de la partició</li>
                                <li><strong>-T:</strong> permet indicar un fitxer fstab diferent</li>
                            </ul>
                            <p>A banda d'aquestes tambés és interessant conèixer la opció –bind que permet muntar un arbre de directoris d'un sistema de fitxers en un altre punt de l'arbre</p>
                            <pre><code>
                                # mount --bind /home/super/public /usr/share/public  

                                $ ls /home/super/public  
                                recursos   materials  apunts  

                                $ ls /usr/share/public  
                                recursos   materials  apunts  
                            </code></pre>

                            <h5>FS INDEPENDENT MOUNT OPTIONS</h5>

                            <p>Aquests opcions de muntatge són especialment útils per configurar el muntatge automàtic de dispositius a través del fitxer fstab. A més, algunes d'elles es troben definides per defecte en el kernel.</p>

                            <table>
                                <tr>
                                    <td>async &lt;nowiki&gt;|&lt;/nowiki&gt; sync</td>
                                    <td>Permet especificar com es faran les operacions d'entrada/sortida del disc</td>
                                </tr>
                                <tr>
                                    <td>atime &lt;nowiki&gt;|&lt;/nowiki&gt; moatime</td>
                                    <td>Defineix si volem actualitzar o no la marca de temps d'accés al fitxer</td>
                                </tr>
                                <tr>
                                    <td>auto &lt;nowiki&gt;|&lt;/nowiki&gt; nouato</td>
                                    <td>Indica si es pot muntar amb la opció -a o s'ha de fer manualment</td>
                                </tr>
                                <tr>
                                    <td>dev &lt;nowiki&gt;|&lt;/nowiki&gt; nodev</td>
                                    <td>Permet (o no) la possibilitat d'interpretar dispositius especials del sistema de fitxers</td>
                                </tr>
                                <tr>
                                    <td>diratime &lt;nowiki&gt;|&lt;/nowiki&gt; nodiratime</td>
                                    <td>Defineix si volem actualitzar o no la marca de temps d'accés al directori</td>
                                </tr>
                                <tr>
                                    <td>exec &lt;nowiki&gt;|&lt;/nowiki&gt; no exec</td>
                                    <td>Estableix si es poden executar o no els binaris del sistema de fitxers</td>
                                </tr>
                                <tr>
                                    <td>owner &lt;nowiki&gt;|&lt;/nowiki&gt; group</td>
                                    <td>Permet que un usuari pugui muntar un dispositiu si és el propietari del dispositiu</td>
                                </tr>
                                <tr>
                                    <td>relatime &lt;nowiki&gt;|&lt;/nowiki&gt; norelatime</td>
                                    <td>Configura l'actualització de les marques de temps mtime i ctime</td>
                                </tr>
                                <tr>
                                    <td>remount</td>
                                    <td>Permet tornar a muntar un dispositiu que ja està muntat</td>
                                </tr>
                                <tr>
                                    <td>ro &lt;nowiki&gt;|&lt;/nowiki&gt; rw</td>
                                    <td>Marca si el sistema de fitxers es munta en lectura i escriptura</td>
                                </tr>
                                <tr>
                                    <td>suid &lt;nowiki&gt;|&lt;/nowiki&gt; nosuid</td>
                                    <td>Especifica si es poden activar o no els bits SUID i GID</td>
                                </tr>
                                <tr>
                                    <td>user &lt;nowiki&gt;|&lt;/nowiki&gt; nouser</td>
                                    <td>Permet indicar si un usuari estàndard pot muntar o no un sistema de fitxers que després només podrà desmuntar ell. Implica noexec i nosuid</td>
                                </tr>
                                <tr>
                                    <td>users</td>
                                    <td>Permet indicar que qualsevol usuari estàndard pot muntar o desmuntar aquell sistema de fitxers</td>
                                </tr>
                            </table>
                            <br/>
                            <h5>FS SPECIFIC MOUNT OPTIONS</h5>

                            <p>Pel que fa a les opcions pròpies de cada sistema de fitxers, es poden consultar al man de la comanda mount. D les que fan referència a sistemes ext2|ext3|ext4 podem destacar:</p>

                            <table>
                                <tr>
                                    <td>acl &lt;nowiki&gt;|&lt;/nowiki&gt; no acl</td>
                                    <td>activa l'ús de POSIX acl</td>
                                </tr>
                                <tr>
                                    <td>commit=</td>
                                    <td>freqüència de sincronització de les metadades del journal</td>
                                </tr>
                                <tr>
                                    <td>data=</td>
                                    <td>mode de funcionament del journal(data&lt;nowiki&gt;|&lt;/nowiki&gt;ordered &lt;nowiki&gt;|&lt;/nowiki&gt;writeback)</td>
                                </tr>
                                <tr>
                                    <td>errors</td>
                                    <td>continue , remount-ro , panic</td>
                                </tr>
                                <tr>
                                    <td>grpquota &lt;nowiki&gt;|&lt;/nowiki&gt; usrquota</td>
                                    <td>activa les utilitats de gestió de quotes de disc</td>
                                </tr>
                                <tr>
                                    <td>nonrecovery &lt;nowiki&gt;|&lt;/nowiki&gt; noload</td>
                                    <td>no carrega el journal durant el muntatge (no recomanat)</td>
                                </tr>
                                <tr>
                                    <td>user_xattr &lt;nowiki&gt;|&lt;/nowiki&gt; nouser_xattr</td>
                                    <td>habilita els atribust extesos per usuaris</td>
                                </tr>
                            </table>	
                            <br/>
                            <h5>Dispositius de loop</h5>

                            <p>Amb la comanda mount també és possible muntar un fitxer regular com un dispositiu de blocs accessible des del nostre sistema gràcies a la opció –loop</p>
                            <pre><code>
                                # mount -o loop disc.img /mnt  
                            </code></pre>

                            <p>D'aquesta manera el fitxer s'ha convertit en una partició més de les utilitzades pel nostre sistema, de manera que podem operar amb les dades que incorpora. Aquesta funcionalitat és equivalent a l'ús de losetup. Amb aquesta eina el que fariem és associar un fitxer regular amb un dispositiu de loop per després muntar aquest en el sistema.</p>
                            <pre><code>
                                # losetup /dev/loop0 debian-8.8.0-amd64-netinst.iso  
                                # mount /dev/loop0 /mnt  
                            </code></pre>

                            <h5>fstab</h5>

                            <p>El fitxer /etc/fstab és l'arxiu del sistema on es configuren els sistemes de fitxers que s'inicien en l'arrencada del sistema. El format d'aquest fitxer és el que es mostra a continuació:</p>
                            <pre><code>
                                &lt;mount point&gt;   &lt;type&gt;   &lt;options&gt;   &lt;dump&gt;   &lt;pass&gt;  
                            </code></pre>
                            <ul>
                                <li>file system: dispositiu que s'ha de muntar</li>
                                <ul>
                                    <li>/dev/sdX</li>
                                    <li>UUID=…..</li>
                                    <li>LABEL=&lt;label&gt;</li>
                                    <li>&lt;IP&gt;:&lt;PATH&gt;</li>
                                </ul>
                                <li>mount point: punt de muntatge del dispositiu</li>
                                <li>type: tipus de sistema de fitxer</li>
                                <li>options: opcions de muntatge, separades per coma</li>
                                <li>dump: (0|1) indica si es fa o no bolcat (còpia) del sistema de fitxers</li>
                                <li>pass: (0|1|2) indica, i en quin ordre, es fa o no un fsckdel sistema de fitxers</li>
                            </ul>
                        </div>
                        <br/>
                        <h6 class="title_t104-4">Comandes útils</h6>
                        <div class="text t104-4" style="display:none">
                            <h5>df</h5>

                            <p>La comanda dfpermet consultar l'espai disponible dels sistemes de fitxers muntats. Algunes de les seves opcions interessants són:</p>

                            <ul>
                                <li><strong>-h: </strong>mostra les mides en un format fàcil de llegir</li>
                                <li><strong>-i: </strong>mostra informació dels indoes enlloc dels blocs</li>
                                <li><strong>-t: </strong>indica el tipus de sistemes de fitxers de les particions a mostrar</li>
                                <li><strong>-T: </strong>mostra el tipus dels sistemes de fitxers</li>
                            </ul>

                            <h5>du</h5>

                            <p>La comanda duestima l'espai ocupat en un directori determinat. Les opcions més utilitzades són:</p>
                            <ul>
                                <li><strong>-a: </strong>mostra el contingut de fitxers i directoris</li>
                                <li><strong>-c: </strong>mostra una línia final amb el total del resum</li>
                                <li><strong>-d: </strong>indica el nivell màxim de profunditat de consulta</li>
                                <li><strong>-h: </strong>mostra les mides en un format fàcil de llegir</li>
                                <li><strong>-s: </strong>mostra només el resum total del directori</li>
                                <li><strong>-S: </strong>mostra l'espai d'un directori sense afegir l'espai dels subdirectoris</li>
                                <li><strong>-t: </strong>exclou directoris més grans o més petits dels indicats</li>
                            </ul>

                            <h5>fuser</h5>

                            <p>La comanda fuserpermet identificar quins processos estan fent ús d'un fitxer determinat. Aquesta comanda resulta útil quan volem desmuntar un sistema de fitxers i el sistema ens diu que està ocupat.<p>
                            <pre><code>
                                # fuser /usr/mount    
                                /usr/mount:   527c   596c  
                            </code></pre>

                            <p>El que ens retorna és el PID dels processos que estan fent ús del dispositiu. Si utilitzem la opció -k podem finalitzar els processos:</p>
                            <pre><code>
                                # fuser -k /usr/mount  
                            </code></pre>

                            <h5>lsof</h5>

                            <p>lsof(list open files) permet veure els processos (i fitxers) que estan fent ús d'un sistema de fitxers.</p>
                        </div>
                    </div>
                    <br/>
                </div>
            </div>
            <hr/>
            <div class="lpic-102">
                <a name="exam-lpic-102" class="exam-lpic-102"><h4>Objectiu 102</h4></a>
                <br/>
                <div class="bloc lpic_102_bloc" style="display:none">
                    <h5 class="title_t105">Topic 105: Shells and Shell Scripting</h5>
                    <div class="topic t105" style="display:none">
                        <br/>
                        <h6 class="title_t105-1">Mòduls del kernel</h6>
                        <div class="text t105-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <pre>
                                <code>
                                  $ lsmod
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t106">Topic 106: User Interfaces and Desktops</h5>
                    <div class="topic t106" style="display:none">
                        <br/>
                        <h6 class="title_t106-1">Mòduls del kernel</h6>
                        <div class="text t106-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <pre>
                                <code>
                                  $ lsmod
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t107">Topic 107: Administrative Tasks</h5>
                    <div class="topic t107" style="display:none">
                        <br/>
                        <h6 class="title_t107-1">Mòduls del kernel</h6>
                        <div class="text t107-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <pre>
                                <code>
                                  $ lsmod
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t108">Topic 108: Essential System Services</h5>
                    <div class="topic t108" style="display:none">
                        <br/>
                        <h6 class="title_t108-1">Mòduls del kernel</h6>
                        <div class="text t108-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <pre>
                                <code>
                                  $ lsmod
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t109">Topic 109: Networking Fundamentals</h5>
                    <div class="topic t109" style="display:none">
                        <br/>
                        <h6 class="title_t109-1">Mòduls del kernel</h6>
                        <div class="text t109-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <pre>
                                <code>
                                  $ lsmod
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>
                        </div>
                    </div>
                    <br/>
                    <h5 class="title_t110">Topic 110: Security</h5>
                    <div class="topic t110" style="display:none">
                        <br/>
                        <h6 class="title_t110-1">Mòduls del kernel</h6>
                        <div class="text t110-1" style="display:none">
                            <p>Els sistemes GNU/Linux es diu que són sistemes modulables, i això és degut a que paquetitzen el sistema en estructures funcionals independents, anomenades mòduls, que s'afegeixen al kernel actiu en funció de si s'utilitzen o no. Aquests mòduls poden swer independents entre ells o estar relacionats, de tal manera que per poder utilitzar un mòdul determinat és necessari tenir actius altres mòduls que aquest necessita. Per poder gestionar els mòduls del kernel disposem de les següents comandes:</p>
                            <p><strong>lsmod:</strong> mostra informació del mòduls de kernel carregats en el sistema.</p>
                            <pre>
                                <code>
                                  $ lsmod
                                Module       Size  Used by
                                mac80211   782336  3 rtl_pci,rtl8188ee,rtlwifi
                                </code>
                            </pre>
                        </div>
                    </div>
                    <br/>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript">
                        $(document).ready(function () {
                            /* Objectiu 101 */
                            $(".exam-lpic-101").click(function () {
                                $(".lpic_101_bloc").toggle('blind');
                            });
                            /* TOPIC 101 */
                            $(".title_t101").click(function () {
                                $(".t101").toggle('blind');
                            });

                            $(".title_t101-1").click(function () {
                                $(".t101-1").toggle('blind');
                            });

                            $(".title_t101-2").click(function () {
                                $(".t101-2").toggle('blind');
                            });

                            $(".title_t101-3").click(function () {
                                $(".t101-3").toggle('blind');
                            });

                            $(".title_t101-4").click(function () {
                                $(".t101-4").toggle('blind');
                            });
                            /* TOPIC 102 */
                            $(".title_t102").click(function () {
                                $(".t102").toggle('blind');
                            });

                            $(".title_t102-1").click(function () {
                                $(".t102-1").toggle('blind');
                            });

                            $(".title_t102-2").click(function () {
                                $(".t102-2").toggle('blind');
                            });

                            $(".title_t102-3").click(function () {
                                $(".t102-3").toggle('blind');
                            });

                            $(".title_t102-4").click(function () {
                                $(".t102-4").toggle('blind');
                            });

                            /* TOPIC 103 */
                            $(".title_t103").click(function () {
                                $(".t103").toggle('blind');
                            });

                            $(".title_t103-1").click(function () {
                                $(".t103-1").toggle('blind');
                            });

                            $(".title_t103-2").click(function () {
                                $(".t103-2").toggle('blind');
                            });

                            $(".title_t103-3").click(function () {
                                $(".t103-3").toggle('blind');
                            });

                            $(".title_t103-4").click(function () {
                                $(".t103-4").toggle('blind');
                            });

                            $(".title_t103-5").click(function () {
                                $(".t103-5").toggle('blind');
                            });

                            $(".title_t103-6").click(function () {
                                $(".t103-6").toggle('blind');
                            });

                            $(".title_t103-7").click(function () {
                                $(".t103-7").toggle('blind');
                            });

                            $(".title_t103-8").click(function () {
                                $(".t103-8").toggle('blind');
                            });

                            $(".title_t103-9").click(function () {
                                $(".t103-9").toggle('blind');
                            });


                            /* TOPIC 104 */

                            $(".title_t104").click(function () {
                                $(".t104").toggle('blind');
                            });

                            $(".title_t104-1").click(function () {
                                $(".t104-1").toggle('blind');
                            });

                            $(".title_t104-2").click(function () {
                                $(".t104-2").toggle('blind');
                            });

                            $(".title_t104-3").click(function () {
                                $(".t104-3").toggle('blind');
                            });

                            $(".title_t104-4").click(function () {
                                $(".t104-4").toggle('blind');
                            });

                            /* Objectiu 102 */
                            $(".exam-lpic-102").click(function () {
                                $(".lpic_102_bloc").toggle('blind');
                            });
                            /* TOPIC 105 */

                            $(".title_t105").click(function () {
                                $(".t105").toggle('blind');
                            });

                            $(".title_t105-1").click(function () {
                                $(".t105-1").toggle('blind');
                            });

                            /* TOPIC 106 */

                            $(".title_t106").click(function () {
                                $(".t106").toggle('blind');
                            });

                            $(".title_t106-1").click(function () {
                                $(".t106-1").toggle('blind');
                            });

                            /* TOPIC 107 */

                            $(".title_t107").click(function () {
                                $(".t107").toggle('blind');
                            });

                            $(".title_t107-1").click(function () {
                                $(".t107-1").toggle('blind');
                            });

                            /* TOPIC 108 */

                            $(".title_t108").click(function () {
                                $(".t108").toggle('blind');
                            });

                            $(".title_t108-1").click(function () {
                                $(".t108-1").toggle('blind');
                            });

                            /* TOPIC 109 */
                            $(".title_t109").click(function () {
                                $(".t109").toggle('blind');
                            });

                            $(".title_t109-1").click(function () {
                                $(".t109-1").toggle('blind');
                            });

                            /* TOPIC 110 */
                            $(".exam-lpic-110").click(function () {
                                $(".lpic_110_bloc").toggle('blind');
                            });

                            $(".title_t110").click(function () {
                                $(".t110").toggle('blind');
                            });

                            $(".title_t110-1").click(function () {
                                $(".t110-1").toggle('blind');
                            });
                        });
        </script>
    </body>
</html>
